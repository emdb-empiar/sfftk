<!DOCTYPE html>
<html class="writer-html5" lang="en-gb" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sfftk.readers package &mdash; sfftk v0.9.0.dev0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="sfftk.notes package" href="notes.html" />
    <link rel="prev" title="sfftk.formats package" href="formats.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> sfftk
          </a>
              <div class="version">
                v0.9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="toolkit.html">EMDB-SFF Toolkit (<code class="docutils literal notranslate"><span class="pre">sfftk</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="converting.html">Converting Files To EMDB-SFF</a></li>
<li class="toctree-l1"><a class="reference internal" href="annotating.html">Annotating EMDB-SFF Segmentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous Operations Using sfftk</a></li>
<li class="toctree-l1"><a class="reference internal" href="developing.html">Developing with <code class="docutils literal notranslate"><span class="pre">sfftk</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending sfftk</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="sfftk.html"><code class="docutils literal notranslate"><span class="pre">sfftk</span></code> packages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sff.html"><code class="docutils literal notranslate"><span class="pre">sfftk.sff</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="formats.html"><code class="docutils literal notranslate"><span class="pre">sfftk.formats</span></code> package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">sfftk.readers</span></code> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.amreader">AmiraMesh reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-amreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.amreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.amreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.survosreader">SuRVoS reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-survosreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.survosreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.survosreader.SuRVoSSegmentation"><code class="docutils literal notranslate"><span class="pre">SuRVoSSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.survosreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.mapreader">CCP4 mask reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-mapreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.mapreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.mapreader.Map"><code class="docutils literal notranslate"><span class="pre">Map</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.mapreader.compute_transform"><code class="docutils literal notranslate"><span class="pre">compute_transform()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.mapreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.modreader">IMOD reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-modreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.modreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.CLIP"><code class="docutils literal notranslate"><span class="pre">CLIP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.CLIP_FLAGS"><code class="docutils literal notranslate"><span class="pre">CLIP_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.CONT"><code class="docutils literal notranslate"><span class="pre">CONT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.CONTOUR_FLAGS"><code class="docutils literal notranslate"><span class="pre">CONTOUR_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.COST"><code class="docutils literal notranslate"><span class="pre">COST</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.COST_FLAGS"><code class="docutils literal notranslate"><span class="pre">COST_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.FLAGS"><code class="docutils literal notranslate"><span class="pre">FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.IMAT"><code class="docutils literal notranslate"><span class="pre">IMAT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.IMAT_FLAGS"><code class="docutils literal notranslate"><span class="pre">IMAT_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.IMOD"><code class="docutils literal notranslate"><span class="pre">IMOD</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MCLP"><code class="docutils literal notranslate"><span class="pre">MCLP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MCLP_FLAGS"><code class="docutils literal notranslate"><span class="pre">MCLP_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MEPA"><code class="docutils literal notranslate"><span class="pre">MEPA</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MEPA_FLAGS"><code class="docutils literal notranslate"><span class="pre">MEPA_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MESH"><code class="docutils literal notranslate"><span class="pre">MESH</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MESH_FLAGS"><code class="docutils literal notranslate"><span class="pre">MESH_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MEST"><code class="docutils literal notranslate"><span class="pre">MEST</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MINX"><code class="docutils literal notranslate"><span class="pre">MINX</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MODEL_FLAGS"><code class="docutils literal notranslate"><span class="pre">MODEL_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.MOST"><code class="docutils literal notranslate"><span class="pre">MOST</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.OBJECT_FLAGS"><code class="docutils literal notranslate"><span class="pre">OBJECT_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.OBJECT_SYM_FLAGS"><code class="docutils literal notranslate"><span class="pre">OBJECT_SYM_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.OBJT"><code class="docutils literal notranslate"><span class="pre">OBJT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.OBST"><code class="docutils literal notranslate"><span class="pre">OBST</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.SLAN"><code class="docutils literal notranslate"><span class="pre">SLAN</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.STORE"><code class="docutils literal notranslate"><span class="pre">STORE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.VIEW"><code class="docutils literal notranslate"><span class="pre">VIEW</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.VIEW_FLAGS"><code class="docutils literal notranslate"><span class="pre">VIEW_FLAGS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.angstrom_multiplier"><code class="docutils literal notranslate"><span class="pre">angstrom_multiplier()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.find_chunk_length"><code class="docutils literal notranslate"><span class="pre">find_chunk_length()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.print_model"><code class="docutils literal notranslate"><span class="pre">print_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.modreader.show_chunks"><code class="docutils literal notranslate"><span class="pre">show_chunks()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.segreader">Segger reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-segreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.segreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.segreader.SeggerSegmentation"><code class="docutils literal notranslate"><span class="pre">SeggerSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.segreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.segreader.get_root"><code class="docutils literal notranslate"><span class="pre">get_root()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.starreader">STAR reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-starreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.starreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.starreader.RelionStarReader"><code class="docutils literal notranslate"><span class="pre">RelionStarReader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.starreader.StarReader"><code class="docutils literal notranslate"><span class="pre">StarReader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.starreader.StarTable"><code class="docutils literal notranslate"><span class="pre">StarTable</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.starreader.StarTableRow"><code class="docutils literal notranslate"><span class="pre">StarTableRow</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.starreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.stlreader">Stereolithography reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-stlreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.stlreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.stlreader.compute_bounding_box"><code class="docutils literal notranslate"><span class="pre">compute_bounding_box()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.stlreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sfftk.readers.surfreader">Amira HyperSurface reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sfftk-readers-surfreader"><code class="docutils literal notranslate"><span class="pre">sfftk.readers.surfreader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.surfreader.HxSurfSegment"><code class="docutils literal notranslate"><span class="pre">HxSurfSegment</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.surfreader.extract_segments"><code class="docutils literal notranslate"><span class="pre">extract_segments()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sfftk.readers.surfreader.get_data"><code class="docutils literal notranslate"><span class="pre">get_data()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="notes.html"><code class="docutils literal notranslate"><span class="pre">sfftk.notes</span></code> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html"><code class="docutils literal notranslate"><span class="pre">sfftk.core</span></code> package</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sfftk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="sfftk.html"><code class="docutils literal notranslate"><span class="pre">sfftk</span></code> packages</a> &raquo;</li>
      <li><code class="docutils literal notranslate"><span class="pre">sfftk.readers</span></code> package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/readers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sfftk-readers-package">
<h1><code class="docutils literal notranslate"><span class="pre">sfftk.readers</span></code> package<a class="headerlink" href="#sfftk-readers-package" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Each module in this package implements an <em>ad hoc</em> reader for a particular file type. The naming convention is <code class="docutils literal notranslate"><span class="pre">&lt;ext&gt;reader</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;ext&gt;</span></code> is a short and unique description for that file format, typically (but not exclusively) the file extension for the file format e.g. <code class="docutils literal notranslate"><span class="pre">am</span></code> for AmiraMesh hence <code class="docutils literal notranslate"><span class="pre">amreader</span></code> module. By <em>ad hoc</em> we mean that the module is designed to conform to the data model of the file format. The <code class="xref py py-mod docutils literal notranslate"><span class="pre">formats</span></code> package adapts the <em>ad hocness</em> to that of EMDB-SFF data model.</p></li>
<li><p>Each module should implement at top-level function <cite>get_data</cite> that takes a string filename and <code class="docutils literal notranslate"><span class="pre">*args</span></code>, <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> and returns an object representing a segmentation from the relevant file format.</p></li>
</ul>
</div>
<section id="module-sfftk.readers.amreader">
<span id="amiramesh-reader"></span><h2>AmiraMesh reader<a class="headerlink" href="#module-sfftk.readers.amreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-amreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.amreader</span></code><a class="headerlink" href="#sfftk-readers-amreader" title="Permalink to this heading"></a></h3>
<p>Ad hoc reader for AmiraMesh files</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.amreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.amreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/amreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.amreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Reads and returns structured data given the file name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – filename</p>
</dd>
<dt class="field-even">Return header</dt>
<dd class="field-even"><p>Amira(R) file header</p>
</dd>
<dt class="field-odd">Rtype header</dt>
<dd class="field-odd"><p><a class="reference external" href="https://ahds.readthedocs.io/en/latest/ahds.html#ahds.header.AmiraHeader" title="(in ahds v0.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ahds.header.AmiraHeader</span></code></a></p>
</dd>
<dt class="field-even">Return labels</dt>
<dd class="field-even"><p>the segments as a 3D volume</p>
</dd>
<dt class="field-odd">Rtype labels</dt>
<dd class="field-odd"><p><a class="reference external" href="https://ahds.readthedocs.io/en/latest/ahds.html#ahds.data_stream.AmiraMeshDataStream" title="(in ahds v0.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ahds.data_stream.AmiraMeshDataStream</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sfftk.readers.survosreader">
<span id="survos-reader"></span><h2>SuRVoS reader<a class="headerlink" href="#module-sfftk.readers.survosreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-survosreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.survosreader</span></code><a class="headerlink" href="#sfftk-readers-survosreader" title="Permalink to this heading"></a></h3>
<p>Ad hoc reader for SuRVoS segmentation files</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.SuRVoSSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.survosreader.</span></span><span class="sig-name descname"><span class="pre">SuRVoSSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/survosreader.html#SuRVoSSegmentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.survosreader.SuRVoSSegmentation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A SuRVoS segmentation</p>
<p>SuRVoS segmentations are based on integer annotations. To the best of my understanding
no textual information is saved in segmentation.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.SuRVoSSegmentation.colours">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">colours</span></span><a class="headerlink" href="#sfftk.readers.survosreader.SuRVoSSegmentation.colours" title="Permalink to this definition"></a></dt>
<dd><p>A list of ordered colours</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.SuRVoSSegmentation.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#sfftk.readers.survosreader.SuRVoSSegmentation.data" title="Permalink to this definition"></a></dt>
<dd><p>The underlying segmentation data</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.SuRVoSSegmentation.labels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">labels</span></span><a class="headerlink" href="#sfftk.readers.survosreader.SuRVoSSegmentation.labels" title="Permalink to this definition"></a></dt>
<dd><p>A list of labels used</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.SuRVoSSegmentation.names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">names</span></span><a class="headerlink" href="#sfftk.readers.survosreader.SuRVoSSegmentation.names" title="Permalink to this definition"></a></dt>
<dd><p>A list of ordered names</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.SuRVoSSegmentation.segment_ids">
<span class="sig-name descname"><span class="pre">segment_ids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/survosreader.html#SuRVoSSegmentation.segment_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.survosreader.SuRVoSSegmentation.segment_ids" title="Permalink to this definition"></a></dt>
<dd><p>Returns a frozenset of segment IDs</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.SuRVoSSegmentation.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><a class="headerlink" href="#sfftk.readers.survosreader.SuRVoSSegmentation.shape" title="Permalink to this definition"></a></dt>
<dd><p>The shape of the segmentation volume</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.survosreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.survosreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/survosreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.survosreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Main entry point for reader</p>
<p>We need to return an object with a handle on the segments:</p>
<ul class="simple">
<li><p>each segment is a 3D volume with only that segments voxel values retained</p></li>
<li><p>we reference each segment on the segmentation through an index-like interface e.g. s1 = Segmentation[1]
returns the segmentation with annotation value of ‘1’</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">SuRVoSSegmentation</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">segment_ids</span><span class="p">()</span> <span class="c1"># returns a list of segment IDs</span>
<span class="n">s</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">segment_ids</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># gets the first segment</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-sfftk.readers.mapreader">
<span id="ccp4-mask-reader"></span><h2>CCP4 mask reader<a class="headerlink" href="#module-sfftk.readers.mapreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-mapreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.mapreader</span></code><a class="headerlink" href="#sfftk-readers-mapreader" title="Permalink to this heading"></a></h3>
<p>Ad hoc reader for CCP4 masks</p>
<section id="references">
<h4>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h4>
<p>The following article is useful as it exposes many internals of map files:</p>
<ul class="simple">
<li><p><a class="reference external" href="ftp://ftp.wwpdb.org/pub/emdb/doc/Map-format/current/EMDB_map_format.pdf">ftp://ftp.wwpdb.org/pub/emdb/doc/Map-format/current/EMDB_map_format.pdf</a></p></li>
</ul>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.mapreader.</span></span><span class="sig-name descname"><span class="pre">Map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/mapreader.html#Map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.mapreader.Map" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to encapsulate a CCP4 mask</p>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.fix_mask">
<span class="sig-name descname"><span class="pre">fix_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_values_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/mapreader.html#Map.fix_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.mapreader.Map.fix_mask" title="Permalink to this definition"></a></dt>
<dd><p>Try to fix this mask</p>
<p>A mask should have only two voxel values: some non-zero value (usually 1) and zero (0) for masked-out regions.
Sometimes the process of manipulating the mask (e.g. volume rotation) relies on interpolation, which
converts a mask to have more than two voxel values. This function attempts to fix that provided that
the number of voxel values is not greater than <cite>voxel_value_threshold</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – the mask value</p></li>
<li><p><strong>voxel_values_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the maxmimum number of voxel values permitted in fixing the mask</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.invert">
<span class="sig-name descname"><span class="pre">invert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/mapreader.html#Map.invert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.mapreader.Map.invert" title="Permalink to this definition"></a></dt>
<dd><p>Invert the map file (mask or not)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.is_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_mask</span></span><a class="headerlink" href="#sfftk.readers.mapreader.Map.is_mask" title="Permalink to this definition"></a></dt>
<dd><p>Determine if this is a mask or not</p>
<dl class="field-list simple">
<dt class="field-odd">Return bool status</dt>
<dd class="field-odd"><p>mask or not</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.labels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">labels</span></span><a class="headerlink" href="#sfftk.readers.mapreader.Map.labels" title="Permalink to this definition"></a></dt>
<dd><p>A string of labels found in the CCP4 mask file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/mapreader.html#Map.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.mapreader.Map.read" title="Permalink to this definition"></a></dt>
<dd><p>Read data from an EMDB Map mask</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>file</em>) – file object</p></li>
<li><p><strong>header_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – only read the header [default: False]</p></li>
</ul>
</dd>
<dt class="field-even">Return int status</dt>
<dd class="field-even"><p>0 on success; fail otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.skew_matrix">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">skew_matrix</span></span><a class="headerlink" href="#sfftk.readers.mapreader.Map.skew_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Skew matrix as a numpy array</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.skew_matrix_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">skew_matrix_data</span></span><a class="headerlink" href="#sfftk.readers.mapreader.Map.skew_matrix_data" title="Permalink to this definition"></a></dt>
<dd><p>Skew matrix data as a space-separated string</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.skew_translation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">skew_translation</span></span><a class="headerlink" href="#sfftk.readers.mapreader.Map.skew_translation" title="Permalink to this definition"></a></dt>
<dd><p>Skew translation as a numpy array</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.skew_translation_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">skew_translation_data</span></span><a class="headerlink" href="#sfftk.readers.mapreader.Map.skew_translation_data" title="Permalink to this definition"></a></dt>
<dd><p>Skew translation as a space-separated string</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.voxels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">voxels</span></span><a class="headerlink" href="#sfftk.readers.mapreader.Map.voxels" title="Permalink to this definition"></a></dt>
<dd><p>The voxel mask</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.Map.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/mapreader.html#Map.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.mapreader.Map.write" title="Permalink to this definition"></a></dt>
<dd><p>Write data to an EMDB Map file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file object</p>
</dd>
<dt class="field-even">Return int status</dt>
<dd class="field-even"><p>0 on success; fail otherwise</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.compute_transform">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.mapreader.</span></span><span class="sig-name descname"><span class="pre">compute_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/mapreader.html#compute_transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.mapreader.compute_transform" title="Permalink to this definition"></a></dt>
<dd><p>Compute the transform that connects the image to physical space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – map filename</p></li>
<li><p><strong>header_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – only read the header if <cite>True</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a 3x4 transformation matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.25)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.mapreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.mapreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/mapreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.mapreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Get structured data from EMDB Map file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – map filename</p></li>
<li><p><strong>inverted</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – should we invert the histogram or not (default)?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>map object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#sfftk.readers.mapreader.Map" title="sfftk.readers.mapreader.Map"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.mapreader.Map</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sfftk.readers.modreader">
<span id="imod-reader"></span><h2>IMOD reader<a class="headerlink" href="#module-sfftk.readers.modreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-modreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.modreader</span></code><a class="headerlink" href="#sfftk-readers-modreader" title="Permalink to this heading"></a></h3>
<p>Ad hoc reader for IMOD (<cite>.mod</cite>) files.</p>
<p><cite>.mod</cite> files are chunk files and loosely follow the Interchange File
Format (IFF). In summary, IFF files consist of a four-byte header
(all caps chunk name e.g. ‘IMOD’) followed by an integer of
the number of bytes in the chunk. The chunk is then structured
according to the author’s design requirements. Not all .mod
chunks follow this convention (e.g. ‘OBJT’ chunks do not include
the size of the chunk immediately after the chunk ID.</p>
<p>A description of the structure of <cite>.mod</cite> files can be found at
the following URL: <a class="reference external" href="https://bio3d.colorado.edu/imod/betaDoc/binspec.html">https://bio3d.colorado.edu/imod/betaDoc/binspec.html</a>.
This module consists of a set of classes each identified by the respective chunk names. The following patterns are
observed in the design of these classes:</p>
<ul class="simple">
<li><p>The name of the class is the name of the chunk e.g. OBJT class refers to OBJT chunks.</p></li>
<li><p>All classes have one public method: read(f), which takes a file handle and returns a file handle at the current
unread position.</p></li>
<li><p>Some chunks are nested (despite the serial nature of IFF files). Contained chunks are read with public methods
defined as <code class="docutils literal notranslate"><span class="pre">add_&lt;chunk&gt;</span></code> e.g. OBJT objects are containers of CONT objects and therefore have a <code class="docutils literal notranslate"><span class="pre">add_cont()</span></code>
method which takes a CONT object as argument. Internally, container objects use (ordered) dictionaries to store
contained objects.</p></li>
<li><p>All chunk classes inherit from <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a> class and have the <a class="reference external" href="https://docs.python.org/3/reference/datamodel.html#object.__repr__" title="(in Python v3.11)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">object.__repr__()</span></code></a> method
implemented to print objects of that class.</p></li>
</ul>
<p>In addition, there are several useful dictionary constants and functions and classes (flags) that interpret
several fields within chunks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The order of classes is based on their position in the module. This can be changed if needed.
The most important classes are <a class="reference internal" href="#sfftk.readers.modreader.IMOD" title="sfftk.readers.modreader.IMOD"><code class="xref py py-class docutils literal notranslate"><span class="pre">modreader.IMOD</span></code></a>, <a class="reference internal" href="#sfftk.readers.modreader.OBJT" title="sfftk.readers.modreader.OBJT"><code class="xref py py-class docutils literal notranslate"><span class="pre">modreader.OBJT</span></code></a>,
<a class="reference internal" href="#sfftk.readers.modreader.CONT" title="sfftk.readers.modreader.CONT"><code class="xref py py-class docutils literal notranslate"><span class="pre">modreader.CONT</span></code></a> and <a class="reference internal" href="#sfftk.readers.modreader.MESH" title="sfftk.readers.modreader.MESH"><code class="xref py py-class docutils literal notranslate"><span class="pre">modreader.MESH</span></code></a></p>
</div>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.CLIP">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">CLIP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#CLIP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.CLIP" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>CLIP chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handler for the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.CLIP.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#CLIP.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.CLIP.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the CLIP chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.CLIP_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">CLIP_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#CLIP_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.CLIP_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the CLIP chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.CONT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">CONT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#CONT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.CONT" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>CONT chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.CONT.add_size">
<span class="sig-name descname"><span class="pre">add_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#CONT.add_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.CONT.add_size" title="Permalink to this definition"></a></dt>
<dd><p>Modify the size attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> – the size value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.CONT.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#CONT.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.CONT.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the CONT chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.CONTOUR_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">CONTOUR_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#CONTOUR_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.CONTOUR_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the CONT chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.COST">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">COST</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#COST"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.COST" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>COST chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.COST.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#COST.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.COST.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the COST chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.COST_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">COST_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#COST_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.COST_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the COST chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">int_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endian</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'little'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class of bit flags</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMAT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">IMAT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#IMAT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.IMAT" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>IMAT chunk class</p>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMAT.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#IMAT.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.IMAT.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the IMAT chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMAT_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">IMAT_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#IMAT_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.IMAT_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the IMAT chunk.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMOD">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">IMOD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#IMOD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.IMOD" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class encapsulating the data in an IMOD file</p>
<p>The top-level of an IMOD file is an IMOD chunk specifying various data members.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMOD.add_objt">
<span class="sig-name descname"><span class="pre">add_objt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#IMOD.add_objt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.IMOD.add_objt" title="Permalink to this definition"></a></dt>
<dd><p>Add an OBJT chunk object to this IMOD object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMOD.add_view">
<span class="sig-name descname"><span class="pre">add_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#IMOD.add_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.IMOD.add_view" title="Permalink to this definition"></a></dt>
<dd><p>Add a VIEW chunk object to this IMOD object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMOD.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#IMOD.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.IMOD.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the IMOD file into an IMOD object</p>
<dl class="field-list simple">
<dt class="field-odd">FIXME</dt>
<dd class="field-odd"><p>use zscale to fix sizes</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMOD.x_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x_length</span></span><a class="headerlink" href="#sfftk.readers.modreader.IMOD.x_length" title="Permalink to this definition"></a></dt>
<dd><p>The length of X side of the image in angstrom</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMOD.y_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_length</span></span><a class="headerlink" href="#sfftk.readers.modreader.IMOD.y_length" title="Permalink to this definition"></a></dt>
<dd><p>The length of Y side of the image in angstrom</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.modreader.IMOD.z_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">z_length</span></span><a class="headerlink" href="#sfftk.readers.modreader.IMOD.z_length" title="Permalink to this definition"></a></dt>
<dd><p>The length of Z side of the image in angstrom</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MCLP">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MCLP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MCLP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MCLP" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>MCLP chunk class</p>
<p>Model clipping plane parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MCLP.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MCLP.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MCLP.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the MCLP chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MCLP_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MCLP_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MCLP_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MCLP_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the MCLP chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MEPA">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MEPA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MEPA"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MEPA" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>MEPA chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MEPA.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MEPA.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MEPA.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the MEPA chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MEPA_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MEPA_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MEPA_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MEPA_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the MEPA chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MESH">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MESH</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MESH"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MESH" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>MESH chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MESH.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MESH.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MESH.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the MESH chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MESH_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MESH_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MESH_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MESH_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the MESH chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MEST">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MEST</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MEST"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MEST" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>MEST chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MEST.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MEST.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MEST.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the MEST chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MINX">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MINX</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MINX"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MINX" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>MINX chunk class</p>
<p>Model to image transformation
Documented as 72 bytes but works with 76 bytes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MINX.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MINX.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MINX.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the MINX chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MODEL_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MODEL_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MODEL_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MODEL_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the MODEL chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MOST">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">MOST</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MOST"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MOST" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>MOST chunk class</p>
<p>Class encapsulating storage parameters for the top-level <a class="reference internal" href="#sfftk.readers.modreader.IMOD" title="sfftk.readers.modreader.IMOD"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.IMOD</span></code></a> chunk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.MOST.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#MOST.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.MOST.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the MOST chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBJECT_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">OBJECT_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBJECT_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBJECT_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the OBJT chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBJECT_SYM_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">OBJECT_SYM_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBJECT_SYM_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBJECT_SYM_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Additional flags in the OBJT chunk</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBJT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">OBJT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBJT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBJT" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>OBJT chunk class</p>
<p>An IMOD file has several <a class="reference internal" href="#sfftk.readers.modreader.OBJT" title="sfftk.readers.modreader.OBJT"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.OBJT</span></code></a> chunks, each of which contain the data
either as contours (<a class="reference internal" href="#sfftk.readers.modreader.CONT" title="sfftk.readers.modreader.CONT"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.CONT</span></code></a>) or meshes
(<a class="reference internal" href="#sfftk.readers.modreader.MESH" title="sfftk.readers.modreader.MESH"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.MESH</span></code></a>). OBJT chunks also contain <a class="reference internal" href="#sfftk.readers.modreader.CLIP" title="sfftk.readers.modreader.CLIP"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.CLIP</span></code></a>,
<a class="reference internal" href="#sfftk.readers.modreader.IMAT" title="sfftk.readers.modreader.IMAT"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.IMAT</span></code></a>, <a class="reference internal" href="#sfftk.readers.modreader.MEPA" title="sfftk.readers.modreader.MEPA"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.MEPA</span></code></a> and a
<a class="reference internal" href="#sfftk.readers.modreader.OBST" title="sfftk.readers.modreader.OBST"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.OBST</span></code></a> storage chunk.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBJT.add_cont">
<span class="sig-name descname"><span class="pre">add_cont</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cont</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBJT.add_cont"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBJT.add_cont" title="Permalink to this definition"></a></dt>
<dd><p>Add a CONT chunk object to this OBJT object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBJT.add_mesh">
<span class="sig-name descname"><span class="pre">add_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBJT.add_mesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBJT.add_mesh" title="Permalink to this definition"></a></dt>
<dd><p>Add a MESH chunk object to this OBJT object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBJT.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBJT.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBJT.read" title="Permalink to this definition"></a></dt>
<dd><p>Read data from the file to the chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBST">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">OBST</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBST"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBST" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>OBST chunk class</p>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.OBST.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#OBST.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.OBST.read" title="Permalink to this definition"></a></dt>
<dd><p>Read data from file to this object</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.SLAN">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">SLAN</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#SLAN"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.SLAN" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>SLAN chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.SLAN.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#SLAN.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.SLAN.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the SLAN chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.STORE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">STORE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#STORE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.STORE" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Generic storage class for models (MOST), objects (OBST), contours (COST), and meshes (MEST)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.STORE.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#STORE.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.STORE.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of this chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.VIEW">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">VIEW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#VIEW"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.VIEW" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>VIEW chunk class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle of the IMOD segmentation file</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.modreader.VIEW.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#VIEW.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.VIEW.read" title="Permalink to this definition"></a></dt>
<dd><p>Read the contents of the VIEW chunk</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.modreader.VIEW_FLAGS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">VIEW_FLAGS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#VIEW_FLAGS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.VIEW_FLAGS" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.modreader.FLAGS" title="sfftk.readers.modreader.FLAGS"><code class="xref py py-class docutils literal notranslate"><span class="pre">FLAGS</span></code></a></p>
<p>Flags in the VIEW chunk</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.modreader.angstrom_multiplier">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">angstrom_multiplier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">units</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#angstrom_multiplier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.angstrom_multiplier" title="Permalink to this definition"></a></dt>
<dd><p>Determine a multiplier to convert units to angstrom</p>
<div class="math notranslate nohighlight">
\[1\textrm{Å} = 10^{-10}\textrm{m} \Rightarrow  1\textrm{m} = 10^{10}\textrm{Å}\]</div>
<p>Consider some generic unit <em>U</em> with a power of 10</p>
<div class="math notranslate nohighlight">
\[1\textrm{U} = 10^x \textrm{m} \Rightarrow 1\textrm{m} = 10^{-x}\textrm{U}\]</div>
<p>We need a unit factor that relates Å to <em>U</em>. Dividing both expressions for <span class="math notranslate nohighlight">\(1\textrm{m}\)</span></p>
<div class="math notranslate nohighlight">
\[\begin{aligned}
1 = \frac{10^{10}}{10^{-x}} \textrm{Å per U (Å/U)} = 10^{10 + x} \textrm{Å/U}
\end{aligned}\]</div>
<p>To convert <em>U</em> to Å we multiply by <span class="math notranslate nohighlight">\(10^{10 + x}\)</span> Å/U</p>
<p>Example:
To convert 3 nm to Å we consider that <span class="math notranslate nohighlight">\(x = -9\)</span> for nm. So:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
3\textrm{nm} &amp; = 3\textrm{nm} \times 10^{10 + (-9)}\textrm{Å/nm} \\
    &amp; = 3\textrm{nm} \times 10^{10 - 9}\textrm{Å/nm} \\
    &amp; = 3\textrm{nm} \times 10\textrm{Å/nm} \\
    &amp; = 30\textrm{Å}
\end{align}\end{split}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the power of ten for the unit e.g. for nm <code class="docutils literal notranslate"><span class="pre">units=-9</span></code></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the correct multiplier to convert the given units to angstrom</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.modreader.find_chunk_length">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">find_chunk_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#find_chunk_length"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.find_chunk_length" title="Permalink to this definition"></a></dt>
<dd><p>Determine the size (in bytes) of the current chunk. Also, return the name of the next chunk.</p>
<p>Assumes that current position in the file is immediately after the chunk header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file</em>) – file handle</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the length of the chunk, the next chunk name, the file handle at the next read position</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>(<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)">str</a>, file)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.modreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Extract chunks from IMOD model file pointed to by the handle f</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – name of IMOD file</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – if it doesn’t start with an IMOD chunk</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><strong>ValueError</strong></a> – if the file lacks an IEOF chunk</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.modreader.print_model">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">print_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#print_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.print_model" title="Permalink to this definition"></a></dt>
<dd><p>Pretty print the IMOD model</p>
<p>Arguments:
:param str fn: name of IMOD file
# :param mod: an object of class IMOD containing all data
# :type mod: <a class="reference internal" href="#sfftk.readers.modreader.IMOD" title="sfftk.readers.modreader.IMOD"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.modreader.IMOD</span></code></a>
# :param file output: the name of the output to which data should be sent</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.modreader.show_chunks">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.modreader.</span></span><span class="sig-name descname"><span class="pre">show_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/modreader.html#show_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.modreader.show_chunks" title="Permalink to this definition"></a></dt>
<dd><p>Show the sequence and number of chunks pointed to the by file handle f.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – name of IMOD file</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sfftk.readers.segreader">
<span id="segger-reader"></span><h2>Segger reader<a class="headerlink" href="#module-sfftk.readers.segreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-segreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.segreader</span></code><a class="headerlink" href="#sfftk-readers-segreader" title="Permalink to this heading"></a></h3>
<p>Ad hoc reader for Segger files</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.segreader.</span></span><span class="sig-name descname"><span class="pre">SeggerSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/segreader.html#SeggerSegmentation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Encapsulation of a Segger segmentation</p>
<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.descriptions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">descriptions</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.descriptions" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary of descriptions for each region</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.file_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">file_name</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.file_name" title="Permalink to this definition"></a></dt>
<dd><p>File name</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.file_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">file_path</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.file_path" title="Permalink to this definition"></a></dt>
<dd><p>File path</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.format">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.format" title="Permalink to this definition"></a></dt>
<dd><p>Format of the segmentation</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.format_version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_version</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.format_version" title="Permalink to this definition"></a></dt>
<dd><p>Format version</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.get_parent_id">
<span class="sig-name descname"><span class="pre">get_parent_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/segreader.html#SeggerSegmentation.get_parent_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.get_parent_id" title="Permalink to this definition"></a></dt>
<dd><p>Provides the parent_id given a region_id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.get_region_ids">
<span class="sig-name descname"><span class="pre">get_region_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/segreader.html#SeggerSegmentation.get_region_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.get_region_ids" title="Permalink to this definition"></a></dt>
<dd><p>Provides the regions_ids associated with a parent_id</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.header">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">header</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.header" title="Permalink to this definition"></a></dt>
<dd><p>Collate group-level attributes in a dictionary</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.ijk_to_xyz_transform">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ijk_to_xyz_transform</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.ijk_to_xyz_transform" title="Permalink to this definition"></a></dt>
<dd><p>Image-to-physical space transform</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.map_level">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">map_level</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.map_level" title="Permalink to this definition"></a></dt>
<dd><p>Map level (contour level)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.map_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">map_path</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.map_path" title="Permalink to this definition"></a></dt>
<dd><p>Path to map file</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.map_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">map_size</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.map_size" title="Permalink to this definition"></a></dt>
<dd><p>Map dimensions (I, J, K)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mask</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.mask" title="Permalink to this definition"></a></dt>
<dd><p>The mask (TM)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.name" title="Permalink to this definition"></a></dt>
<dd><p>Name of the segmentation</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.parent_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent_ids</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.parent_ids" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of region_ids to parent_ids</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.ref_points">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ref_points</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.ref_points" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of region_ids to ref_points</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.region_colours">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">region_colours</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.region_colours" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of region_ids to region_colors</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.region_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">region_ids</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.region_ids" title="Permalink to this definition"></a></dt>
<dd><p>An iterable of region_ids</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.root_parent_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root_parent_ids</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.root_parent_ids" title="Permalink to this definition"></a></dt>
<dd><p>The</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.simplify_mask">
<span class="sig-name descname"><span class="pre">simplify_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/segreader.html#SeggerSegmentation.simplify_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.simplify_mask" title="Permalink to this definition"></a></dt>
<dd><p>Simplify the mask by replacing all <cite>region_ids</cite> with their <cite>root_parent_id</cite></p>
<p>The <cite>region_ids</cite> and <cite>parent_ids</cite> are paired from which a tree is inferred. The root
of this tree is value <cite>0</cite>. <cite>region_ids</cite> that have a corresponding <cite>parent_id</cite> of 0
are penultimate roots. This method replaces each <cite>region_id</cite> with its penultimate <cite>parent_id</cite>.
It <em>simplifies</em> the volume.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>replace</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><em>bool</em></a>) – if <cite>True</cite> then the returned <cite>mask</cite> will have values; <cite>False</cite> will leave the <cite>mask</cite>
unchanged (useful for running tests to speed things up)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>simplified_mask</cite>, <cite>segment_colours</cite>, <cite>segment_ids</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.segreader.SeggerSegmentation.smoothing_levels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">smoothing_levels</span></span><a class="headerlink" href="#sfftk.readers.segreader.SeggerSegmentation.smoothing_levels" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of region_ids to smoothing_levels</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.segreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.segreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/segreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.segreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Gets segmentation data from a Segger file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.segreader.get_root">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.segreader.</span></span><span class="sig-name descname"><span class="pre">get_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region_parent_zip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/segreader.html#get_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.segreader.get_root" title="Permalink to this definition"></a></dt>
<dd><p>Return the penultimate <cite>parent_id</cite> for any <cite>region_id</cite>.</p>
<p>The penultimate parent is one layer below the root (0).
The set of penultimate parents are the distinct regions contained in the segmentation.
They correspond to putative functional regions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>region_parent_zip</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><em>tuple</em></a>) – a list of 2-tuples of <cite>region_ids</cite> and <cite>parent_ids</cite></p></li>
<li><p><strong>region_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – the <cite>region_id</cite> whose root parent_id is sought</p></li>
</ul>
</dd>
<dt class="field-even">Return int parent_id</dt>
<dd class="field-even"><p>the corresponding penultimate <cite>parent_id</cite> (one step below the root - value of <cite>0</cite>)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sfftk.readers.starreader">
<span id="star-reader"></span><h2>STAR reader<a class="headerlink" href="#module-sfftk.readers.starreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-starreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.starreader</span></code><a class="headerlink" href="#sfftk-readers-starreader" title="Permalink to this heading"></a></h3>
<p>STAR files are generic data modelling files much in the same way as XML files. RELION uses a particular format of STAR file to store particle data. This module provides several classes to read STAR files: a generic reader and two RELION-specific ones.</p>
<p>In practice, the whole STAR file is loaded into memory during the parsing process. The API we provide enables the user to access the main ways the data is stored in the STAR file: <em>key-value pairs</em> and <em>tables</em>. This reader is designed only to extract the data from the STAR file and does not attempt to understand STAR file conventions.</p>
<p>Generic STAR files can have any number of key-value pairs and tables. For our use case, we are interested in capturing the relationship between a refined particle (subtomogram average) and a source tomogram. Since each such particle is expressed in terms of its orientation within the tomogram, we need to capture the affine transform that maps the particle to the tomogram.</p>
<p>Therefore, this imposes some constraints on the STAR file:</p>
<ul class="simple">
<li><p>The STAR file must have a table with the following columns: <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateX</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateY</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateZ</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAngleRot</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAngleTilt</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAnglePsi</span></code>. These columns represent the position and orientation of the particle in the tomogram.</p></li>
<li><p>The STAR file must reference only one tomogram in the <code class="docutils literal notranslate"><span class="pre">_rlnImageName</span></code> column. This is because we are only interested in the relationship between a single particle and a single tomogram. If the STAR file references multiple tomograms, then a prior preparation step will need to be performed to partition the STAR file into multiple files, each referencing a single tomogram. (more on that to come)</p></li>
</ul>
<p>For this reason, we distinguish between ‘composite’ RELION STAR files and ‘simple’ RELION STAR files. Composite RELION STAR files must be partitioned into simple RELION STAR files before they can be converted into EMDB-SFF files.</p>
<section id="anatomy-of-a-star-file">
<h4>Anatomy of a STAR file<a class="headerlink" href="#anatomy-of-a-star-file" title="Permalink to this heading"></a></h4>
<p>A STAR file is made up of one or more data blocks.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_block_1</span>
</pre></div>
</div>
<p>In the example above, the name of the data block is <code class="docutils literal notranslate"><span class="pre">block_1</span></code>. The name is optional.</p>
<p>Data is stored in the form of key-value pairs and tables. Key-value pairs are simple and are stored in a dictionary.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_key</span> <span class="n">value</span>
</pre></div>
</div>
<p>Tables are designed by the <code class="docutils literal notranslate"><span class="pre">loop_</span></code> keyword followed by a sequence of tags/labels each of which is prefixed by an underscore. Each row after the tags/labels is then a row with values for each tag/label.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>loop_
_atom_site.group_PDB
_atom_site.id
_atom_site.type_symbol
_atom_site.label_atom_id
_atom_site.label_alt_id
_atom_site.label_comp_id
_atom_site.label_asym_id
_atom_site.label_entity_id
_atom_site.label_seq_id
_atom_site.pdbx_PDB_ins_code
_atom_site.Cartn_x
_atom_site.Cartn_y
_atom_site.Cartn_z
_atom_site.occupancy
_atom_site.B_iso_or_equiv
_atom_site.pdbx_formal_charge
_atom_site.auth_seq_id
_atom_site.auth_comp_id
_atom_site.auth_asym_id
_atom_site.auth_atom_id
_atom_site.pdbx_PDB_model_num
ATOM   1    N N   . LYS A 1 7   ? 12.364  -13.639 8.445   1.00 54.67  ? 527 LYS A N   1
ATOM   2    C CA  . LYS A 1 7   ? 11.119  -12.888 8.550   1.00 49.59  ? 527 LYS A CA  1
ATOM   3    C C   . LYS A 1 7   ? 9.961   -13.651 7.926   1.00 44.77  ? 527 LYS A C   1
ATOM   4    O O   . LYS A 1 7   ? 9.055   -14.126 8.617   1.00 49.39  ? 527 LYS A O   1
ATOM   5    C CB  . LYS A 1 7   ? 11.255  -11.538 7.841   1.00 49.41  ? 527 LYS A CB  1
ATOM   6    C CG  . LYS A 1 7   ? 10.169  -10.531 8.174   1.00 53.16  ? 527 LYS A CG  1
ATOM   7    C CD  . LYS A 1 7   ? 10.523  -9.771  9.432   1.00 59.71  ? 527 LYS A CD  1
ATOM   8    C CE  . LYS A 1 7   ? 11.779  -8.947  9.195   1.00 63.60  ? 527 LYS A CE  1
ATOM   9    N NZ  . LYS A 1 7   ? 12.353  -8.381  10.443  1.00 64.85  ? 527 LYS A NZ  1
ATOM   10   N N   . ARG A 1 8   ? 10.011  -13.762 6.603   1.00 40.03  ? 528 ARG A N   1
</pre></div>
</div>
<p>All values are treated as strings.</p>
</section>
<section id="relion-star-files">
<h4>RELION STAR files<a class="headerlink" href="#relion-star-files" title="Permalink to this heading"></a></h4>
<p>These adhere to the following conventions (<a class="reference external" href="https://relion.readthedocs.io/en/latest/Reference/Conventions.html#star-format">https://relion.readthedocs.io/en/latest/Reference/Conventions.html#star-format</a>):</p>
<ul>
<li><p>Euler angle convention used is ZYZ</p></li>
<li><p>The coordinate system is right-handed with positive rotations being anticlockwise/counterclockwise</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_rlnCoordinateX</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateY</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateZ</span></code> are tomogram PIXEL positions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_rlnAngleRot</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAngleTilt</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAnglePsi</span></code> are angles in DEGREES</p>
<blockquote>
<div><ul class="simple">
<li><p>The first rotation is called <code class="docutils literal notranslate"><span class="pre">rlnAngleRot</span></code> and is around the Z-axis;</p></li>
<li><p>The second rotation is called <code class="docutils literal notranslate"><span class="pre">rlnAngleTilt</span></code> and is around the new Y-axis;</p></li>
<li><p>The third rotation is called <code class="docutils literal notranslate"><span class="pre">rlnAnglePsi</span></code> and is around the new Z axis;</p></li>
</ul>
</div></blockquote>
</li>
<li><p>If present <code class="docutils literal notranslate"><span class="pre">_rlnOriginXAngstrom</span></code> and <code class="docutils literal notranslate"><span class="pre">_rlnOriginYAngstrom</span></code> are in ANGSTROMS</p></li>
</ul>
</section>
<section id="api">
<h4>API<a class="headerlink" href="#api" title="Permalink to this heading"></a></h4>
<p>There are two main classes to read STAR files.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#sfftk.readers.starreader.StarReader" title="sfftk.readers.starreader.StarReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.starreader.StarReader</span></code></a>: a generic reader that can parse any STAR file;</p></li>
<li><p><a class="reference internal" href="#sfftk.readers.starreader.RelionStarReader" title="sfftk.readers.starreader.RelionStarReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.starreader.RelionStarReader</span></code></a>: a reader that can parse RELION STAR files, which validates the constraints described above.</p></li>
</ol>
<p>Both readers provide the same API. The examples below use the generic reader but the same applies to the RELION reader.</p>
<p>First, users must instantiate the reader:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">star_reader</span> <span class="o">=</span> <span class="n">StarReader</span><span class="p">()</span>
</pre></div>
</div>
<p>Then, users must parse the file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">star_reader</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;file.star&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The reader will then parse the file and store the data in memory. The user can then access the data in the following ways:</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">star_reader.keys()</span></code>: returns a list of key-value pairs;</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">keys</span><span class="p">)</span> <span class="c1"># show key-value pairs</span>
<span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s1">&#39;key&#39;</span><span class="p">])</span> <span class="c1"># get the value for the given key</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">star_reader.tables</span></code>: returns a dictionary of tables where the key is the name of the table and the value is a <a class="reference internal" href="#sfftk.readers.starreader.StarTable" title="sfftk.readers.starreader.StarTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.starreader.StarTable</span></code></a> object and each row in the table is a <a class="reference internal" href="#sfftk.readers.starreader.StarTableRow" title="sfftk.readers.starreader.StarTableRow"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.starreader.StarTableRow</span></code></a> object. By default, we automatically infer the type of the values in the table. If the user wishes to disable this behaviour, they can pass <code class="docutils literal notranslate"><span class="pre">infer_types=False</span></code> to the <code class="docutils literal notranslate"><span class="pre">parse</span></code> method.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">star_reader</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;file.star&#39;</span><span class="p">,</span> <span class="n">infer_types</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># disable type inference</span>
</pre></div>
</div>
<p>We can now access each table by name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span> <span class="c1"># print the list of tables</span>
<span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_atom_site&#39;</span><span class="p">]</span> <span class="c1"># the name of a table is name of the label prefix (separated by a period)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_atom_site&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="c1"># print the columns in the table</span>
<span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_atom_site&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># print the first row in the table</span>
<span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_atom_site&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span> <span class="c1"># print the fifth column in the first row</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For RELION STAR files, the name of the table is <code class="docutils literal notranslate"><span class="pre">_rln</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_rln&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Additionally, each row can be converted into an affine transform matrix using the <code class="docutils literal notranslate"><span class="pre">to_affine_transform</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_rln&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_affine_transform</span><span class="p">())</span> <span class="c1"># print the affine transform matrix for the first row</span>
<span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_rln&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_affine_transform</span><span class="p">(</span><span class="n">axes</span><span class="o">=</span><span class="s2">&quot;ZXZ&quot;</span><span class="p">))</span> <span class="c1"># change the orientation convention</span>
<span class="nb">print</span><span class="p">(</span><span class="n">star_reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;_rln&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_affine_transform</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span> <span class="c1"># use radians instead of degrees</span>
</pre></div>
</div>
</div>
</div></blockquote>
</li>
</ol>
</section>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.starreader.RelionStarReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.starreader.</span></span><span class="sig-name descname"><span class="pre">RelionStarReader</span></span><a class="reference internal" href="_modules/sfftk/readers/starreader.html#RelionStarReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.starreader.RelionStarReader" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sfftk.readers.starreader.StarReader" title="sfftk.readers.starreader.StarReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">StarReader</span></code></a></p>
<p><a class="reference internal" href="#sfftk.readers.starreader.StarReader" title="sfftk.readers.starreader.StarReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">StarReader</span></code></a> subclass which applies some constraints to the STAR file. These constraints are:</p>
<ul class="simple">
<li><p>The STAR file must have a table with the following columns: <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateX</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateY</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnCoordinateZ</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAngleRot</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAngleTilt</span></code>, <code class="docutils literal notranslate"><span class="pre">_rlnAnglePsi</span></code>. These columns represent the position and orientation of the particle in the tomogram.</p></li>
<li><p>The STAR file must reference only one tomogram in the <code class="docutils literal notranslate"><span class="pre">_rlnImageName</span></code> column. This is because we are only interested in the relationship between a single particle and a single tomogram. If the STAR file references multiple tomograms, then a prior preparation step will need to be performed to partition the STAR file into multiple files, each referencing a single tomogram. (more on that to come)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">reader</span> <span class="o">=</span> <span class="n">RelionStarReader</span><span class="p">()</span>
<span class="n">reader</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;my_star_file.star&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span> <span class="c1"># output some information e.g. number of rows, fields, etc.</span>
<span class="c1"># if no warnings are raised then the file was successfully parsed</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
    <span class="c1"># we can print the affine transform matrix for each row</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">to_affine_transform</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.starreader.StarReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.starreader.</span></span><span class="sig-name descname"><span class="pre">StarReader</span></span><a class="reference internal" href="_modules/sfftk/readers/starreader.html#StarReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.starreader.StarReader" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A generic star file reader. The user must specify which fields are required/optional and the reader will then
assess whether a provided file has the specified field.</p>
<p>Once the file is parsed, the user can then iterate over the object to get the required data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">reader</span> <span class="o">=</span> <span class="n">StarReader</span><span class="p">()</span>
<span class="n">reader</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;my_star_file.star&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span> <span class="c1"># output some information e.g. number of rows, fields, etc.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">tables</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reader</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span> <span class="c1"># if &#39;name&#39; exists</span>
<span class="c1"># if no warnings are raised then the file was successfully parsed</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="o">.</span><span class="n">tables</span><span class="p">:</span> <span class="c1"># read from the &#39;default&#39; table or the only table present</span>
    <span class="c1"># do something with the row</span>
    <span class="c1"># we drop the leading underscore so as not to imply private variables</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">col1</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">col2</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">col3</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">col4</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">col5</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">col6</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.starreader.StarReader.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/starreader.html#StarReader.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.starreader.StarReader.keys" title="Permalink to this definition"></a></dt>
<dd><p>Return all the keys found in the STAR file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sfftk.readers.starreader.StarReader.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/starreader.html#StarReader.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.starreader.StarReader.parse" title="Permalink to this definition"></a></dt>
<dd><p>Parse the file</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.starreader.StarReader.tables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tables</span></span><a class="headerlink" href="#sfftk.readers.starreader.StarReader.tables" title="Permalink to this definition"></a></dt>
<dd><p>Return all the tables in the STAR file</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.starreader.StarTable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.starreader.</span></span><span class="sig-name descname"><span class="pre">StarTable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/starreader.html#StarTable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.starreader.StarTable" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A section of tabular data in a star file</p>
<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.starreader.StarTable.columns">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#sfftk.readers.starreader.StarTable.columns" title="Permalink to this definition"></a></dt>
<dd><p>Return the columns in this block</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.starreader.StarTableRow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.starreader.</span></span><span class="sig-name descname"><span class="pre">StarTableRow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ZYZ'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">degrees</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/starreader.html#StarTableRow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.starreader.StarTableRow" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Each row in a star table</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.starreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.starreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/starreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.starreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Return the object with all the required metadata</p>
</dd></dl>

</section>
<section id="module-sfftk.readers.stlreader">
<span id="stereolithography-reader"></span><h2>Stereolithography reader<a class="headerlink" href="#module-sfftk.readers.stlreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-stlreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.stlreader</span></code><a class="headerlink" href="#sfftk-readers-stlreader" title="Permalink to this heading"></a></h3>
<p>Ad hoc reader for Stereolithography (STL) files</p>
<ul class="simple">
<li><p>Depends on the <cite>numpy-stl</cite> package</p></li>
<li><p>Reads both ASCII and binary files</p></li>
</ul>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.stlreader.compute_bounding_box">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.stlreader.</span></span><span class="sig-name descname"><span class="pre">compute_bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/stlreader.html#compute_bounding_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.stlreader.compute_bounding_box" title="Permalink to this definition"></a></dt>
<dd><p>Compute the bounding box for an STL file</p>
<p>Required to check that the transform has correctly aligned the segmentation with the image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – filename</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <cite>list</cite> of <cite>tuple`s of the form `((x_min, y_min, z_min), (x_max, y_max, z_max))</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.stlreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.stlreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/stlreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.stlreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Get data from an StL file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – filename</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <cite>generator</cite> of meshes; each mesh is a <cite>tuple</cite> of a name, a <cite>dict</cite> of vertices indexed by <cite>vertex_id</cite>
and a <cite>dict</cite> of polygons referring to vertices by <cite>vertex_id</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sfftk.readers.surfreader">
<span id="amira-hypersurface-reader"></span><h2>Amira HyperSurface reader<a class="headerlink" href="#module-sfftk.readers.surfreader" title="Permalink to this heading"></a></h2>
<section id="sfftk-readers-surfreader">
<h3><code class="docutils literal notranslate"><span class="pre">sfftk.readers.surfreader</span></code><a class="headerlink" href="#sfftk-readers-surfreader" title="Permalink to this heading"></a></h3>
<p>Ad hoc reader for Amira HyperSurface files</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.HxSurfSegment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sfftk.readers.surfreader.</span></span><span class="sig-name descname"><span class="pre">HxSurfSegment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">material</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">triangles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/surfreader.html#HxSurfSegment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.surfreader.HxSurfSegment" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Generic HxSurface segment class</p>
<p>The <a class="reference external" href="https://ahds.readthedocs.io/en/latest/ahds.html#module-ahds" title="(in ahds v0.2.3)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ahds</span></code></a> package provides a better abstraction of this filetype</p>
<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.HxSurfSegment.colour">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">colour</span></span><a class="headerlink" href="#sfftk.readers.surfreader.HxSurfSegment.colour" title="Permalink to this definition"></a></dt>
<dd><p>The colour of the segment</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.HxSurfSegment.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#sfftk.readers.surfreader.HxSurfSegment.id" title="Permalink to this definition"></a></dt>
<dd><p>The segment ID</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.HxSurfSegment.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sfftk.readers.surfreader.HxSurfSegment.name" title="Permalink to this definition"></a></dt>
<dd><p>The name of the segment</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.HxSurfSegment.triangles">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">triangles</span></span><a class="headerlink" href="#sfftk.readers.surfreader.HxSurfSegment.triangles" title="Permalink to this definition"></a></dt>
<dd><p>A list of triangles (lists with 3 vertex IDs) in this segment</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.HxSurfSegment.vertices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vertices</span></span><a class="headerlink" href="#sfftk.readers.surfreader.HxSurfSegment.vertices" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of vertices in this segment indexed by vertex ID</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.extract_segments">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.surfreader.</span></span><span class="sig-name descname"><span class="pre">extract_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">af</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/surfreader.html#extract_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.surfreader.extract_segments" title="Permalink to this definition"></a></dt>
<dd><p>Extract patches as segments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>af</strong> (<a class="reference external" href="https://ahds.readthedocs.io/en/latest/ahds.html#ahds.AmiraFile" title="(in ahds v0.2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ahds.AmiraFile</span></code></a>) – an <cite>AmiraFile</cite> object</p>
</dd>
<dt class="field-even">Return dict segments</dt>
<dd class="field-even"><p>a dictionary of segments with keys set to Material Ids (voxel values)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sfftk.readers.surfreader.get_data">
<span class="sig-prename descclassname"><span class="pre">sfftk.readers.surfreader.</span></span><span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sfftk/readers/surfreader.html#get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sfftk.readers.surfreader.get_data" title="Permalink to this definition"></a></dt>
<dd><p>Get segmentation data from the Amira HxSurface file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – file name</p>
</dd>
<dt class="field-even">Return header</dt>
<dd class="field-even"><p>AmiraHxSurface header</p>
</dd>
<dt class="field-odd">Rtype header</dt>
<dd class="field-odd"><p><a class="reference external" href="https://ahds.readthedocs.io/en/latest/ahds.html#module-ahds.header" title="(in ahds v0.2.3)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ahds.header</span></code></a></p>
</dd>
<dt class="field-even">Return dict segments</dt>
<dd class="field-even"><p>segments each of class <a class="reference internal" href="#sfftk.readers.surfreader.HxSurfSegment" title="sfftk.readers.surfreader.HxSurfSegment"><code class="xref py py-class docutils literal notranslate"><span class="pre">sfftk.readers.surfreader.HxSurfSegment</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="formats.html" class="btn btn-neutral float-left" title="sfftk.formats package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="notes.html" class="btn btn-neutral float-right" title="sfftk.notes package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, EMBL-EBI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>