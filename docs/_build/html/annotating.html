<!DOCTYPE html>
<html class="writer-html5" lang="en-gb" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Annotating EMDB-SFF Segmentations &mdash; sfftk v0.8.0.dev1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Miscellaneous Operations Using sfftk" href="misc.html" />
    <link rel="prev" title="Converting Files To EMDB-SFF" href="converting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> sfftk
          </a>
              <div class="version">
                v0.8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="toolkit.html">EMDB-SFF Toolkit (<code class="docutils literal notranslate"><span class="pre">sfftk</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="converting.html">Converting Files To EMDB-SFF</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Annotating EMDB-SFF Segmentations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#annotation-levels-global-vs-segment-notes">Annotation Levels: Global vs. Segment Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operations-find-view-modify">Operations: Find, View, Modify</a></li>
<li class="toctree-l3"><a class="reference internal" href="#states-find-view-modify">States: FIND, VIEW, MODIFY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#find">Find</a></li>
<li class="toctree-l4"><a class="reference internal" href="#view">View</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modify">Modify</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#quick-start">Quick Start</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#finding-notes">Finding Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#specifying-search-terms">Specifying Search Terms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-resource-to-search">Specifying The Resource To Search</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-ontology-to-search">Specifying The Ontology To Search</a></li>
<li class="toctree-l4"><a class="reference internal" href="#performing-exact-searches">Performing Exact Searches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#including-obsolete-terms">Including Obsolete Terms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#listing-available-ontologies">Listing Available Ontologies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#short-listing-of-available-ontologies">Short Listing Of Available Ontologies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#traversing-searching-results">Traversing Searching Results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-start-result">Specifying The Start Result</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-number-of-rows-to-display">Specifying The Number Of Rows To Display</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#viewing-notes">Viewing Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#listing-all-notes">Listing All Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#long-format">Long Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#including-segmentation-metadata">Including Segmentation Metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sorting-notes-by-description">Sorting Notes By Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reverse-sorting">Reverse Sorting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#viewing-segment-ids-only">Viewing Segment IDs Only</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#showing-notes-in-one-or-more-segments">Showing Notes In One Or More Segments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#viewing-segmentation-metadata-only">Viewing Segmentation Metadata Only</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#modifying-notes">Modifying Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#temporary-file">Temporary File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temporary-file-shorthand">Temporary File Shorthand</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modify-sequence">Modify Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-notes">Adding Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-global-notes-segmentation">Adding Global Notes (Segmentation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adding-segment-notes">Adding Segment Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#editing-notes">Editing Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#editing-global-notes-segmentation">Editing Global Notes (Segmentation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#editing-segment-notes">Editing Segment Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#deleting-notes">Deleting Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#deleting-global-notes-segmentation">Deleting Global Notes (Segmentation)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deleting-segment-notes">Deleting Segment Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#copying-notes">Copying Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#source-of-notes-one-or-more-segments">Source of Notes: One or More Segments</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#clearing-notes">Clearing Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#clearing-segment-notes">Clearing Segment Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clearing-global-external-references">Clearing Global External References</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clearing-all-notes">Clearing All Notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#merging-notes">Merging Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#explicit-output">Explicit Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="#implicit-output">Implicit Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#saving-notes">Saving Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trashing-notes">Trashing Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-settings">Configuration Settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Miscellaneous Operations Using sfftk</a></li>
<li class="toctree-l1"><a class="reference internal" href="developing.html">Developing with <code class="docutils literal notranslate"><span class="pre">sfftk</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending sfftk</a></li>
<li class="toctree-l1"><a class="reference internal" href="sfftk.html"><code class="docutils literal notranslate"><span class="pre">sfftk</span></code> packages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sfftk</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Annotating EMDB-SFF Segmentations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/annotating.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="annotating-emdb-sff-segmentations">
<h1><a class="toc-backref" href="#id3">Annotating EMDB-SFF Segmentations</a><a class="headerlink" href="#annotating-emdb-sff-segmentations" title="Permalink to this heading"></a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#annotating-emdb-sff-segmentations" id="id3">Annotating EMDB-SFF Segmentations</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id4">Introduction</a></p>
<ul>
<li><p><a class="reference internal" href="#synopsis" id="id5">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#annotation-levels-global-vs-segment-notes" id="id6">Annotation Levels: Global vs. Segment Notes</a></p></li>
<li><p><a class="reference internal" href="#operations-find-view-modify" id="id7">Operations: Find, View, Modify</a></p></li>
<li><p><a class="reference internal" href="#states-find-view-modify" id="id8">States: FIND, VIEW, MODIFY</a></p>
<ul>
<li><p><a class="reference internal" href="#find" id="id9">Find</a></p></li>
<li><p><a class="reference internal" href="#view" id="id10">View</a></p></li>
<li><p><a class="reference internal" href="#modify" id="id11">Modify</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#quick-start" id="id12">Quick Start</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#finding-notes" id="id13">Finding Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#specifying-search-terms" id="id14">Specifying Search Terms</a></p>
<ul>
<li><p><a class="reference internal" href="#specifying-the-resource-to-search" id="id15">Specifying The Resource To Search</a></p></li>
<li><p><a class="reference internal" href="#specifying-the-ontology-to-search" id="id16">Specifying The Ontology To Search</a></p></li>
<li><p><a class="reference internal" href="#performing-exact-searches" id="id17">Performing Exact Searches</a></p></li>
<li><p><a class="reference internal" href="#including-obsolete-terms" id="id18">Including Obsolete Terms</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#listing-available-ontologies" id="id19">Listing Available Ontologies</a></p>
<ul>
<li><p><a class="reference internal" href="#short-listing-of-available-ontologies" id="id20">Short Listing Of Available Ontologies</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#traversing-searching-results" id="id21">Traversing Searching Results</a></p>
<ul>
<li><p><a class="reference internal" href="#specifying-the-start-result" id="id22">Specifying The Start Result</a></p></li>
<li><p><a class="reference internal" href="#specifying-the-number-of-rows-to-display" id="id23">Specifying The Number Of Rows To Display</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#viewing-notes" id="id24">Viewing Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#listing-all-notes" id="id25">Listing All Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#long-format" id="id26">Long Format</a></p></li>
<li><p><a class="reference internal" href="#including-segmentation-metadata" id="id27">Including Segmentation Metadata</a></p></li>
<li><p><a class="reference internal" href="#sorting-notes-by-description" id="id28">Sorting Notes By Description</a></p></li>
<li><p><a class="reference internal" href="#reverse-sorting" id="id29">Reverse Sorting</a></p></li>
<li><p><a class="reference internal" href="#viewing-segment-ids-only" id="id30">Viewing Segment IDs Only</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#showing-notes-in-one-or-more-segments" id="id31">Showing Notes In One Or More Segments</a></p>
<ul>
<li><p><a class="reference internal" href="#viewing-segmentation-metadata-only" id="id32">Viewing Segmentation Metadata Only</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#modifying-notes" id="id33">Modifying Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#temporary-file" id="id34">Temporary File</a></p></li>
<li><p><a class="reference internal" href="#temporary-file-shorthand" id="id35">Temporary File Shorthand</a></p></li>
<li><p><a class="reference internal" href="#modify-sequence" id="id36">Modify Sequence</a></p></li>
<li><p><a class="reference internal" href="#adding-notes" id="id37">Adding Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#adding-global-notes-segmentation" id="id38">Adding Global Notes (Segmentation)</a></p>
<ul>
<li><p><a class="reference internal" href="#adding-a-segmentation-name" id="id39">Adding A Segmentation Name</a></p></li>
<li><p><a class="reference internal" href="#adding-the-software" id="id40">Adding The Software</a></p></li>
<li><p><a class="reference internal" href="#add-a-transform" id="id41">Add A Transform</a></p></li>
<li><p><a class="reference internal" href="#adding-segmentation-details" id="id42">Adding Segmentation Details</a></p></li>
<li><p><a class="reference internal" href="#adding-an-external-reference-global-or-segment" id="id43">Adding An External Reference (Global Or Segment)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#adding-segment-notes" id="id44">Adding Segment Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#adding-a-segment-name" id="id45">Adding A Segment Name</a></p></li>
<li><p><a class="reference internal" href="#adding-a-segment-description" id="id46">Adding A Segment Description</a></p></li>
<li><p><a class="reference internal" href="#adding-the-number-of-instances" id="id47">Adding The Number of Instances</a></p></li>
<li><p><a class="reference internal" href="#adding-external-references" id="id48">Adding External References</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#editing-notes" id="id49">Editing Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#editing-global-notes-segmentation" id="id50">Editing Global Notes (Segmentation)</a></p>
<ul>
<li><p><a class="reference internal" href="#editing-external-references" id="id51">Editing External References</a></p></li>
<li><p><a class="reference internal" href="#editing-software-and-transforms" id="id52">Editing Software and Transforms</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#editing-segment-notes" id="id53">Editing Segment Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#editing-a-segment-name" id="id54">Editing A Segment Name</a></p></li>
<li><p><a class="reference internal" href="#editing-a-description" id="id55">Editing A Description</a></p></li>
<li><p><a class="reference internal" href="#editing-the-number-of-instances" id="id56">Editing The Number of Instances</a></p></li>
<li><p><a class="reference internal" href="#editing-an-external-reference" id="id57">Editing An External Reference</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#deleting-notes" id="id58">Deleting Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#deleting-global-notes-segmentation" id="id59">Deleting Global Notes (Segmentation)</a></p>
<ul>
<li><p><a class="reference internal" href="#deleting-a-segmentation-name" id="id60">Deleting A Segmentation Name</a></p></li>
<li><p><a class="reference internal" href="#deleting-software-details" id="id61">Deleting Software Details</a></p></li>
<li><p><a class="reference internal" href="#deleting-transforms" id="id62">Deleting Transforms</a></p></li>
<li><p><a class="reference internal" href="#deleting-details" id="id63">Deleting Details</a></p></li>
<li><p><a class="reference internal" href="#deleting-external-references" id="id64">Deleting External References</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#deleting-segment-notes" id="id65">Deleting Segment Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#deleting-the-segment-name" id="id66">Deleting The Segment Name</a></p></li>
<li><p><a class="reference internal" href="#deleting-a-description" id="id67">Deleting A Description</a></p></li>
<li><p><a class="reference internal" href="#deleting-the-number-of-instances" id="id68">Deleting The Number Of Instances</a></p></li>
<li><p><a class="reference internal" href="#deleting-an-external-reference" id="id69">Deleting An External Reference</a></p></li>
<li><p><a class="reference internal" href="#deleting-a-complex-internal-use" id="id70">Deleting A Complex (Internal Use)</a></p></li>
<li><p><a class="reference internal" href="#deleting-a-macromolecule-internal-use" id="id71">Deleting A Macromolecule (Internal Use)</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#copying-notes" id="id72">Copying Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#source-of-notes-one-or-more-segments" id="id73">Source of Notes: One or More Segments</a></p>
<ul>
<li><p><a class="reference internal" href="#copy-notes-to-another" id="id74">Copy Notes To Another</a></p></li>
<li><p><a class="reference internal" href="#copy-notes-to-multiple-segments" id="id75">Copy Notes To Multiple Segments</a></p></li>
<li><p><a class="reference internal" href="#copy-notes-to-all-other-segments" id="id76">Copy Notes To All Other Segments</a></p></li>
<li><p><a class="reference internal" href="#copy-notes-to-global-external-references" id="id77">Copy Notes To Global External References</a></p></li>
<li><p><a class="reference internal" href="#source-of-notes-global-external-references" id="id78">Source of Notes: Global External References</a></p></li>
<li><p><a class="reference internal" href="#copy-notes-to-one-segment" id="id79">Copy Notes To One Segment</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id80">Copy Notes To Multiple Segments</a></p></li>
<li><p><a class="reference internal" href="#copy-notes-to-all-segments" id="id81">Copy Notes To All Segments</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#clearing-notes" id="id82">Clearing Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#clearing-segment-notes" id="id83">Clearing Segment Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#one-segment" id="id84">One Segment</a></p></li>
<li><p><a class="reference internal" href="#multiple-segments" id="id85">Multiple Segments</a></p></li>
<li><p><a class="reference internal" href="#all-segments" id="id86">All Segments</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#clearing-global-external-references" id="id87">Clearing Global External References</a></p></li>
<li><p><a class="reference internal" href="#clearing-all-notes" id="id88">Clearing All Notes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#merging-notes" id="id89">Merging Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#explicit-output" id="id90">Explicit Output</a></p></li>
<li><p><a class="reference internal" href="#implicit-output" id="id91">Implicit Output</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#saving-notes" id="id92">Saving Notes</a></p></li>
<li><p><a class="reference internal" href="#trashing-notes" id="id93">Trashing Notes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-settings" id="id94">Configuration Settings</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="introduction">
<h2><a class="toc-backref" href="#id4">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>Annotation of EMDB-SFF segmentations is the second core function of <code class="docutils literal notranslate"><span class="pre">sfftk</span></code>.
Here we outline how to perform annotations of EMDB-SFF segmentations via the
command-line.</p>
<section id="synopsis">
<h3><a class="toc-backref" href="#id5">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this heading"></a></h3>
<p>Annotation is performed using the <cite>notes</cite> utility that is accessed with the
<code class="docutils literal notranslate"><span class="pre">notes</span></code> subcommand.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes
usage: sff notes <span class="o">[</span>-h<span class="o">]</span> EMDB-SFF annotation tools ...

The EMDB-SFF Annotation Toolkit

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>

Annotation tools:
  The EMDB-SFF Annotation Toolkit provides the following tools:

  EMDB-SFF annotation tools
    search              search <span class="k">for</span> terms by labels
    list                list available annotations
    show                show an annotation by ID
    add                 add new annotations
    edit                edit existing annotations
    del                 delete existing annotations
    copy                copy notes across segments within the same EMDB-SFF file
    clear               clear notes <span class="k">in</span> an EMDB-SFF file
    merge               merge notes from two EMDB-SFF files
    save                write all changes made since the last <span class="s1">&#39;save&#39;</span> action
    trash               discard all changes made since the last the edit action <span class="o">(</span>add, edit, del<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="annotation-levels-global-vs-segment-notes">
<h3><a class="toc-backref" href="#id6">Annotation Levels: Global vs. Segment Notes</a><a class="headerlink" href="#annotation-levels-global-vs-segment-notes" title="Permalink to this heading"></a></h3>
<p>Annotations can be added at the segmentation (global) or individual segment level.
<code class="docutils literal notranslate"><span class="pre">sfftk</span></code> distinguishes between both levels of annotations. Global notes are
useful for terms that describe the segmentation as a whole such as the
species, the tissue type, disease state and such global references. Segments
notes refer to individual segments which may be constituted of multiple
biological entities of interest. Given the segment relationship specified by
<cite>parent_id</cite> to <cite>segment_id</cite>, a hierarchy of segments may also be annotated.
Simply add notes to the segment whose ID you are targetting.</p>
</section>
<section id="operations-find-view-modify">
<h3><a class="toc-backref" href="#id7">Operations: Find, View, Modify</a><a class="headerlink" href="#operations-find-view-modify" title="Permalink to this heading"></a></h3>
<p>There are three main operations that a user can perform using the <code class="docutils literal notranslate"><span class="pre">notes</span></code> subcommand.</p>
<ul class="simple">
<li><p><strong>Find</strong> notes from a resource; if no resource is specified the <a class="reference external" href="https://www.ebi.ac.uk/ols/index">Ontology Lookup Service (OLS) hosted at EMBL-EBI</a>;</p></li>
<li><p><strong>View</strong> notes present in an EMDB-SFF file;</p></li>
<li><p><strong>Modify</strong> notes in an EMDB-SFF file.</p></li>
</ul>
</section>
<section id="states-find-view-modify">
<h3><a class="toc-backref" href="#id8">States: FIND, VIEW, MODIFY</a><a class="headerlink" href="#states-find-view-modify" title="Permalink to this heading"></a></h3>
<p>Correspondingly, using the notes subcommand puts the user in one of three states: the FIND state, the VIEW state and
the MODIFY state. These will be indicated by the colour of the text on the screen.</p>
<ul class="simple">
<li><p><strong>CYAN</strong> indicates the <code class="docutils literal notranslate"><span class="pre">VIEW</span> <span class="pre">STATE</span></code> i.e. that no modifications have been made to the EMDB-SFF file</p></li>
<li><p><strong>YELLOW</strong> indicates the <code class="docutils literal notranslate"><span class="pre">FIND</span> <span class="pre">STATE</span></code> i.e. search for terms from <a class="reference external" href="https://www.ebi.ac.uk/ols/index">OLS</a>, and</p></li>
<li><p><strong>GREEN</strong> indicates the <code class="docutils literal notranslate"><span class="pre">MODIFY</span> <span class="pre">STATE</span></code> i.e. that a file is currently being edited.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Viewing the contents of an EMDB-SFF file in the <code class="docutils literal notranslate"><span class="pre">MODIFY</span> <span class="pre">STATE</span></code> will also appear in green even if a view
command is invoked.</p>
</div>
<p>The full listing of sub-subcommands organised by operation are:</p>
<section id="find">
<h4><a class="toc-backref" href="#id9">Find</a><a class="headerlink" href="#find" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p><strong>search</strong></p></li>
</ul>
</section>
<section id="view">
<h4><a class="toc-backref" href="#id10">View</a><a class="headerlink" href="#view" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p><strong>list</strong></p></li>
<li><p><strong>show</strong></p></li>
</ul>
</section>
<section id="modify">
<h4><a class="toc-backref" href="#id11">Modify</a><a class="headerlink" href="#modify" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p><strong>add</strong></p></li>
<li><p><strong>edit</strong></p></li>
<li><p><strong>copy</strong></p></li>
<li><p><strong>clear</strong></p></li>
<li><p><strong>merge</strong></p></li>
<li><p><strong>del</strong></p></li>
<li><p><strong>save</strong></p></li>
<li><p><strong>trash</strong></p></li>
</ul>
<p>We will look at each of these in turn.</p>
</section>
</section>
<section id="quick-start">
<h3><a class="toc-backref" href="#id12">Quick Start</a><a class="headerlink" href="#quick-start" title="Permalink to this heading"></a></h3>
</section>
</section>
<section id="finding-notes">
<h2><a class="toc-backref" href="#id13">Finding Notes</a><a class="headerlink" href="#finding-notes" title="Permalink to this heading"></a></h2>
<p>The search sub-subcommand displays results from searching EMBL-EBI’s Ontology Lookup Service (OLS) by default. As
described in <a class="reference external" href="#states-find-view-modify">States</a>, the terminal text is
coloured yellow.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search
sff notes search -h
sff notes search --help
</pre></div>
</div>
<p>display available options.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search
usage: sff notes search <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span>
                        <span class="o">[</span>-R <span class="o">{</span>ols,go,emdb,uniprot,pdb,europepmc,empiar<span class="o">}]</span>
                        <span class="o">[</span>--start START<span class="o">]</span> <span class="o">[</span>--rows ROWS<span class="o">]</span> <span class="o">[</span>-O ONTOLOGY<span class="o">]</span> <span class="o">[</span>-x<span class="o">]</span> <span class="o">[</span>-o<span class="o">]</span>
                        <span class="o">[</span>-L<span class="o">]</span> <span class="o">[</span>-l<span class="o">]</span>
                        <span class="o">[</span>search_term<span class="o">]</span>

Search ontologies <span class="k">for</span> annotation by text labels

positional arguments:
  search_term           the term to search<span class="p">;</span> add quotes <span class="k">if</span> spaces are included

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and user
                        configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -R <span class="o">{</span>ols,go,emdb,uniprot,pdb,europepmc,empiar<span class="o">}</span>, --resource <span class="o">{</span>ols,go,emdb,uniprot,pdb,europepmc,empiar<span class="o">}</span>
                        the resource to search <span class="k">for</span> terms or accessions<span class="p">;</span> other
                        valid options are <span class="o">[</span><span class="s1">&#39;ols&#39;</span>, <span class="s1">&#39;go&#39;</span>, <span class="s1">&#39;emdb&#39;</span>, <span class="s1">&#39;uniprot&#39;</span>,
                        <span class="s1">&#39;pdb&#39;</span>, <span class="s1">&#39;europepmc&#39;</span>, <span class="s1">&#39;empiar&#39;</span><span class="o">]</span> <span class="o">[</span>default: ols<span class="o">]</span>
  --start START         start index <span class="o">[</span>default: <span class="m">1</span><span class="o">]</span>
  --rows ROWS           number of rows <span class="o">[</span>default: <span class="m">10</span><span class="o">]</span>

EBI Ontology Lookup Service <span class="o">(</span>OLS<span class="o">)</span>:
  The Ontology Lookup Service <span class="o">(</span>OLS<span class="o">)</span> is a repository <span class="k">for</span> biomedical
  ontologies that aims to provide a single point of access to the latest
  ontology versions. You can use the following options to modify your search
  against OLS by ensuring that the -R/--resource flag is <span class="nb">set</span> to <span class="s1">&#39;ols&#39;</span>
  <span class="o">(</span>default<span class="o">)</span>.

  -O ONTOLOGY, --ontology ONTOLOGY
                        the ontology to search <span class="o">[</span>default: None<span class="o">]</span>
  -x, --exact           exact matches? <span class="o">[</span>default: False<span class="o">]</span>
  -o, --obsoletes       include obsoletes? <span class="o">[</span>default: False<span class="o">]</span>
  -L, --list-ontologies
                        list available ontologies <span class="o">[</span>default: False<span class="o">]</span>
  -l, --short-list-ontologies
                        short list of available ontologies <span class="o">[</span>default: False<span class="o">]</span>
</pre></div>
</div>
<section id="specifying-search-terms">
<h3><a class="toc-backref" href="#id14">Specifying Search Terms</a><a class="headerlink" href="#specifying-search-terms" title="Permalink to this heading"></a></h3>
<p>For single worded searches enter the term with or without quotes. Multi-word
terms must be quoted to prevent splitting them.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># single word term</span>
sff notes search mitochondria
sff notes search ‘mitochondria’
sff notes search “mitochondria”
<span class="c1"># multi-word term</span>
sff notes search ‘fragment mitochondria’
</pre></div>
</div>
<p>The search results are displayed as a table with the following columns:</p>
<ul class="simple">
<li><p><em>index</em></p></li>
<li><p><em>label</em> of the result term</p></li>
<li><p><em>resource</em></p></li>
<li><p><em>url</em> refers to a link by which the term in the ontology may be accessed</p></li>
<li><p><em>accession</em>  of the result term</p></li>
<li><p><em>description</em> is free text describing the term, and</p></li>
</ul>
<section id="specifying-the-resource-to-search">
<span id="id1"></span><h4><a class="toc-backref" href="#id15">Specifying The Resource To Search</a><a class="headerlink" href="#specifying-the-resource-to-search" title="Permalink to this heading"></a></h4>
<p>By default all searches are carried out against the <a class="reference external" href="https://www.ebi.ac.uk/ols/index">EBI Ontology Lookup Service (OLS)</a>.</p>
<p>In addition to the OLS users can also search the follow resources for accessions to use for annotation:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://geneontology.org/">The Gene Ontology (GO)</a>;</p></li>
<li><p><a class="reference external" href="http://www.ebi.ac.uk/emdb/">The Electron Microscopy Data Bank (EMDB)</a>;</p></li>
<li><p><a class="reference external" href="https://www.wwpdb.org/">The Protein Data Bank (PDB)</a>;</p></li>
<li><p><a class="reference external" href="http://www.uniprot.org/">The Universal Protein Resource (UniProt)</a></p></li>
<li><p><a class="reference external" href="https://europepmc.org/">Europe PubMed Central (Europe PMC)</a></p></li>
<li><p><a class="reference external" href="https://www.ebi.ac.uk/empiar/">The Electron Microscopy Public Image Archive (EMPIAR)</a></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">-R/--resource</span></code> flag is used to specify the desired resource to search, which takes a string arguments as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ols</span></code> (default) will search EBI OLS;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">go</span></code> will search EBI OLS restricted to GO terms;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emdb</span></code> will search the EMDB;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdb</span></code> will search PDB;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uniprot</span></code> will search UniProt;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">europepmc</span></code> will search EuropePMC;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">empiar</span></code> will search EMPIAR.</p></li>
</ul>
<p>For example, to search for <em>mitochondria</em> in EMDB the user would type one of the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -R emdb <span class="s2">&quot;mitochodria&quot;</span>
sff notes search --resource emdb <span class="s2">&quot;mitochondria&quot;</span>
</pre></div>
</div>
</section>
<section id="specifying-the-ontology-to-search">
<h4><a class="toc-backref" href="#id16">Specifying The Ontology To Search</a><a class="headerlink" href="#specifying-the-ontology-to-search" title="Permalink to this heading"></a></h4>
<p>This only applies to searches against the <a class="reference external" href="https://www.ebi.ac.uk/ols/index">EBI Ontology Lookup Service</a> (the default resource to search or <code class="docutils literal notranslate"><span class="pre">-R/--resource</span> <span class="pre">ols</span></code>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -O &lt;resource&gt; “&lt;term&gt;”
sff notes search --ontology &lt;resource&gt; “&lt;term&gt;”
</pre></div>
</div>
<p>See <a class="reference external" href="#listing-available-ontologies">Listing Available Ontologies</a> on how
to get an ontology to search.</p>
</section>
<section id="performing-exact-searches">
<h4><a class="toc-backref" href="#id17">Performing Exact Searches</a><a class="headerlink" href="#performing-exact-searches" title="Permalink to this heading"></a></h4>
<p>Exact searches only return results matching the search term <em>exactly.</em></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -x “&lt;term&gt;”
sff notes search --exact “&lt;term&gt;”
</pre></div>
</div>
</section>
<section id="including-obsolete-terms">
<h4><a class="toc-backref" href="#id18">Including Obsolete Terms</a><a class="headerlink" href="#including-obsolete-terms" title="Permalink to this heading"></a></h4>
<p>Some terms are retired and are excluded by default. They can be included using
the <code class="docutils literal notranslate"><span class="pre">-o/--obsoletes</span></code> flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -o “&lt;term&gt;”
sff notes search --obsoletes “&lt;term&gt;”
</pre></div>
</div>
</section>
</section>
<section id="listing-available-ontologies">
<h3><a class="toc-backref" href="#id19">Listing Available Ontologies</a><a class="headerlink" href="#listing-available-ontologies" title="Permalink to this heading"></a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -L “term”
sff notes search --list-ontologies “term”
</pre></div>
</div>
<p>By default this provides a multi-line result for each ontology consisting of
the <em>namespace</em> (also called <em>ID space</em>), <em>preferred prefix, title,
description, homepage, the ontology ID,</em> and <em>version</em> of the ontology.</p>
<section id="short-listing-of-available-ontologies">
<h4><a class="toc-backref" href="#id20">Short Listing Of Available Ontologies</a><a class="headerlink" href="#short-listing-of-available-ontologies" title="Permalink to this heading"></a></h4>
<p>Alternatively, a simple table result can be displayed using the
<code class="docutils literal notranslate"><span class="pre">-l/--short-list-ontologies</span></code> flag which displays only two columns:
<em>namespace</em> and <em>description.</em></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -l “term”
sff notes search --short-list-ontologies “term”
</pre></div>
</div>
</section>
</section>
<section id="traversing-searching-results">
<h3><a class="toc-backref" href="#id21">Traversing Searching Results</a><a class="headerlink" href="#traversing-searching-results" title="Permalink to this heading"></a></h3>
<p>By default, <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span></code> search only shows the first page of results. Quite
often, there will be more than one page of results. This will be evident from
the last line of the results:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Showing: <span class="m">1</span> to <span class="m">10</span> of <span class="m">139</span> results found
</pre></div>
</div>
<section id="specifying-the-start-result">
<h4><a class="toc-backref" href="#id22">Specifying The Start Result</a><a class="headerlink" href="#specifying-the-start-result" title="Permalink to this heading"></a></h4>
<p>The user can specify the result index at which results should be displayed
using the <code class="docutils literal notranslate"><span class="pre">--start</span></code> flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -s <span class="m">1</span> “&lt;term&gt;”
sff notes search --start <span class="m">1</span> “&lt;term&gt;”
</pre></div>
</div>
</section>
<section id="specifying-the-number-of-rows-to-display">
<h4><a class="toc-backref" href="#id23">Specifying The Number Of Rows To Display</a><a class="headerlink" href="#specifying-the-number-of-rows-to-display" title="Permalink to this heading"></a></h4>
<p>More results can be display using the <code class="docutils literal notranslate"><span class="pre">--rows</span></code> flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search -r <span class="m">11</span> “&lt;term&gt;”
sff notes search --rows <span class="m">11</span> “&lt;term&gt;”
</pre></div>
</div>
<p>Entering invalid values for <code class="docutils literal notranslate"><span class="pre">--start</span></code> and <code class="docutils literal notranslate"><span class="pre">--rows</span></code> raise
<code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exceptions.</p>
</section>
</section>
</section>
<section id="viewing-notes">
<h2><a class="toc-backref" href="#id24">Viewing Notes</a><a class="headerlink" href="#viewing-notes" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sfftk</span></code> includes utilities to view annotations (notes) included in EMDB-SFF
files.</p>
<section id="listing-all-notes">
<h3><a class="toc-backref" href="#id25">Listing All Notes</a><a class="headerlink" href="#listing-all-notes" title="Permalink to this heading"></a></h3>
<p>Listing all notes is performed by running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list
usage: sff notes list <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-H<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span> <span class="o">[</span>-l<span class="o">]</span> <span class="o">[</span>-D<span class="o">]</span> <span class="o">[</span>-r<span class="o">]</span> <span class="o">[</span>-I<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span> sff_file

List all available annotations present <span class="k">in</span> an EMDB-SFF file

positional arguments:
  sff_file              path <span class="o">(</span>rel/abs<span class="o">)</span> to an EMDB-SFF file

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -H, --header          show EMDB-SFF header <span class="o">(</span>global<span class="o">)</span> attributes <span class="o">[</span>default: False<span class="o">]</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and user configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -l, --long-format     only show segment ID and description <span class="o">(</span><span class="k">if</span> present<span class="o">)</span> <span class="o">[</span>default: False<span class="o">]</span>
  -D, --sort-by-name    sort listings by segment name <span class="o">[</span>default: False <span class="o">(</span>sorts by ID<span class="o">)]</span>
  -r, --reverse         reverse the sort order <span class="o">[</span>default: False<span class="o">]</span>
  -I, --list-ids        only list the IDs <span class="k">for</span> segments one per line <span class="o">[</span>default: False<span class="o">]</span>
  -v, --verbose         verbose output
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">list</span></code> sub-command only lists a summary table of notes
available for each segment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list file.sff
sff notes list file.hff
sff notes list file.json
</pre></div>
</div>
<p>The default output is structured as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Status</span> <span class="n">information</span>
<span class="o">******************</span>
<span class="n">Segment</span> <span class="n">metatdata</span>
</pre></div>
</div>
<p>Here is an example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>**************************************************************************************************************
id      par_id  name::description                                  <span class="c1">#inst #ext_ref           colour</span>
--------------------------------------------------------------------------------------------------------------
<span class="m">9764</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>     <span class="o">(</span><span class="m">0</span>.8, <span class="m">0</span>.96, <span class="m">0</span>.4, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9814</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>     <span class="o">(</span><span class="m">0</span>.8, <span class="m">0</span>.48, <span class="m">0</span>.88, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9815</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>    <span class="o">(</span><span class="m">1</span>.0, <span class="m">0</span>.412, <span class="m">0</span>.706, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9840</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>    <span class="o">(</span><span class="m">0</span>.16, <span class="m">0</span>.84, <span class="m">0</span>.48, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9859</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>    <span class="o">(</span><span class="m">0</span>.92, <span class="m">0</span>.84, <span class="m">0</span>.96, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9893</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>     <span class="o">(</span><span class="m">0</span>.0, <span class="m">0</span>.84, <span class="m">0</span>.76, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9897</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>     <span class="o">(</span><span class="m">0</span>.0, <span class="m">0</span>.84, <span class="m">0</span>.76, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9911</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>    <span class="o">(</span><span class="m">0</span>.92, <span class="m">0</span>.84, <span class="m">0</span>.96, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9914</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>    <span class="o">(</span><span class="m">0</span>.16, <span class="m">0</span>.84, <span class="m">0</span>.48, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9952</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>    <span class="o">(</span><span class="m">1</span>.0, <span class="m">0</span>.412, <span class="m">0</span>.706, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9955</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>     <span class="o">(</span><span class="m">0</span>.8, <span class="m">0</span>.96, <span class="m">0</span>.4, <span class="m">1</span>.0<span class="o">)</span>
<span class="m">9956</span>    <span class="m">0</span>       GroEL::GroEL                                           <span class="m">1</span>     <span class="m">7</span>     <span class="o">(</span><span class="m">0</span>.8, <span class="m">0</span>.48, <span class="m">0</span>.88, <span class="m">1</span>.0<span class="o">)</span>
</pre></div>
</div>
<p>It has the following columns:</p>
<ul class="simple">
<li><p><em>id</em>: segment ID</p></li>
<li><p><em>par_idd</em>: segment ID for the parent ID;</p></li>
<li><p><em>description</em>: a descriptive name for the segment, which provides a useful starting point when searching for annotation terms;</p></li>
<li><p><em>#inst</em>: the number of instances of the segment;</p></li>
<li><p><em>#ex_ref</em>: the number of external references present;</p></li>
<li><p><em>colour</em>: the colour of the segment in normalised RGBA.</p></li>
</ul>
<p>where the first line provides some status information about the current
listing. Status messages will become much more important when we look at
<a class="reference external" href="#_c0sybxydflf7">modifying notes in EMDB-SFF files</a>. Status messages begin
with a timestamp. Following status messages is the EMDB-SFF header
information which specifies the schema version, the name of the
segmentation (‘STL Segmentation’), software information including processing
details, the primary descriptor (<em>meshList</em> in this case) and additional
details on this segmentation. A row asterisks then divides the metadata from
the segment data where one row per segment provides the <em>segment_id,
parentID, description, number of instances, number of external references,
number of complexes, number of macromolecules,</em> and <em>RGBA colour</em> of the
segment. When modifying notes these values change.</p>
<section id="long-format">
<h4><a class="toc-backref" href="#id26">Long Format</a><a class="headerlink" href="#long-format" title="Permalink to this heading"></a></h4>
<p>To view the list of notes by segment in long format (much more detail) use
the <code class="docutils literal notranslate"><span class="pre">-l/--long-format</span></code> flag. This can be done with or without the header
(<code class="docutils literal notranslate"><span class="pre">-H/--header</span></code> flag).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list -l file.sff
sff notes list --long-format file.sff
</pre></div>
</div>
<p>having the same</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Status</span> <span class="n">information</span>
<span class="o">==================</span>
<span class="n">Segment</span> <span class="n">metatdata</span>
</pre></div>
</div>
<p>structure except now that the Segment metadata section has much more detail.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**************************************************************************************************************</span>
<span class="n">ID</span><span class="p">:</span>             <span class="mi">9764</span>
<span class="n">PARENT</span> <span class="n">ID</span><span class="p">:</span>      <span class="mi">0</span>
<span class="n">Segment</span> <span class="n">Type</span><span class="p">:</span>   <span class="n">three_d_volume</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Name</span><span class="p">:</span>
        <span class="n">GroEL</span>
<span class="n">Description</span><span class="p">:</span>
        <span class="n">GroEL</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">instances</span><span class="p">:</span>
        <span class="mi">1</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">External</span> <span class="n">references</span><span class="p">:</span>
      <span class="c1"># resource         url                                                      accession            L D</span>
    <span class="o">------------------------------------------------------------------------------------------------------</span>
     <span class="mi">0</span><span class="p">:</span> <span class="n">ogg</span>              <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">OGG_3000881348</span>            <span class="n">OGG_3000881348</span>       <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">1</span><span class="p">:</span> <span class="n">ogg</span>              <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">OGG_3001198820</span>            <span class="n">OGG_3001198820</span>       <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">2</span><span class="p">:</span> <span class="n">vo</span>               <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0010998</span>                <span class="n">VO_0010998</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">3</span><span class="p">:</span> <span class="n">vo</span>               <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0011075</span>                <span class="n">VO_0011075</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">4</span><span class="p">:</span> <span class="n">pdro</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0010998</span>                <span class="n">VO_0010998</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">5</span><span class="p">:</span> <span class="n">pdro</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0011075</span>                <span class="n">VO_0011075</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">6</span><span class="p">:</span> <span class="n">omit</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">OMIT_0001676</span>              <span class="n">OMIT_0001676</span>         <span class="n">Y</span> <span class="n">Y</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Colour</span><span class="p">:</span>
        <span class="p">(</span><span class="mf">0.800000011920929</span><span class="p">,</span> <span class="mf">0.959999978542328</span><span class="p">,</span> <span class="mf">0.400000005960464</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="o">**************************************************************************************************************</span>
<span class="n">ID</span><span class="p">:</span>             <span class="mi">9814</span>
<span class="n">PARENT</span> <span class="n">ID</span><span class="p">:</span>      <span class="mi">0</span>
<span class="n">Segment</span> <span class="n">Type</span><span class="p">:</span>   <span class="n">three_d_volume</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Name</span><span class="p">:</span>
        <span class="n">GroEL</span>
<span class="n">Description</span><span class="p">:</span>
        <span class="n">GroEL</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">instances</span><span class="p">:</span>
        <span class="mi">1</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">External</span> <span class="n">references</span><span class="p">:</span>
      <span class="c1"># resource         url                                                      accession            L D</span>
    <span class="o">------------------------------------------------------------------------------------------------------</span>
     <span class="mi">0</span><span class="p">:</span> <span class="n">ogg</span>              <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">OGG_3000881348</span>            <span class="n">OGG_3000881348</span>       <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">1</span><span class="p">:</span> <span class="n">ogg</span>              <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">OGG_3001198820</span>            <span class="n">OGG_3001198820</span>       <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">2</span><span class="p">:</span> <span class="n">vo</span>               <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0010998</span>                <span class="n">VO_0010998</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">3</span><span class="p">:</span> <span class="n">vo</span>               <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0011075</span>                <span class="n">VO_0011075</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">4</span><span class="p">:</span> <span class="n">pdro</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0010998</span>                <span class="n">VO_0010998</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">5</span><span class="p">:</span> <span class="n">pdro</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">VO_0011075</span>                <span class="n">VO_0011075</span>           <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">6</span><span class="p">:</span> <span class="n">omit</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">OMIT_0001676</span>              <span class="n">OMIT_0001676</span>         <span class="n">Y</span> <span class="n">Y</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Colour</span><span class="p">:</span>
        <span class="p">(</span><span class="mf">0.800000011920929</span><span class="p">,</span> <span class="mf">0.479999989271164</span><span class="p">,</span> <span class="mf">0.879999995231628</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="o">**************************************************************************************************************</span>
<span class="o">...</span> <span class="n">truncated</span> <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="including-segmentation-metadata">
<h4><a class="toc-backref" href="#id27">Including Segmentation Metadata</a><a class="headerlink" href="#including-segmentation-metadata" title="Permalink to this heading"></a></h4>
<p>By default, segmentation metadata (name, software, global notes, file path,
details) are not included when listing or showing notes. The <code class="docutils literal notranslate"><span class="pre">-H/--header</span></code>
flag includes this.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list -H file.sff
sff notes list --header file.sff
</pre></div>
</div>
<p>The output has the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Status</span> <span class="n">information</span>
<span class="o">==================</span>
<span class="n">EMDB</span><span class="o">-</span><span class="n">SFF</span> <span class="n">metadata</span>
<span class="o">******************</span>
<span class="n">Segment</span> <span class="n">metatdata</span>
</pre></div>
</div>
<p>And here’s an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">==============================================================================================================</span>
<span class="n">EMDB</span><span class="o">-</span><span class="n">SFF</span> <span class="n">v</span><span class="mf">.0.8.0</span><span class="o">.</span><span class="n">dev1</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Segmentation</span> <span class="n">name</span><span class="p">:</span>
        <span class="n">Segger</span> <span class="n">Segmentation</span>
<span class="n">Segmentation</span> <span class="n">software</span><span class="p">:</span>
        <span class="mi">0</span> <span class="n">segger</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">proc</span><span class="o">/</span><span class="n">det</span><span class="p">:</span>

<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Primary</span> <span class="n">descriptor</span> <span class="p">[</span><span class="n">three_d_volume</span><span class="o">|</span><span class="n">mesh_list</span><span class="o">|</span><span class="n">shape_primitive_list</span><span class="p">]:</span>
        <span class="n">three_d_volume</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Transforms</span><span class="p">:</span>

<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Bounding</span> <span class="n">box</span> <span class="p">(</span><span class="n">xmin</span><span class="p">,</span><span class="n">xmax</span><span class="p">,</span><span class="n">ymin</span><span class="p">,</span><span class="n">ymax</span><span class="p">,</span><span class="n">zmin</span><span class="p">,</span><span class="n">zmax</span><span class="p">):</span>
        <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Global</span> <span class="n">external</span> <span class="n">references</span><span class="p">:</span> <span class="p">(</span><span class="n">L</span> <span class="o">=</span> <span class="n">label</span> <span class="n">present</span><span class="p">;</span> <span class="n">D</span> <span class="o">=</span> <span class="n">description</span> <span class="n">present</span><span class="p">)</span>
          <span class="c1"># resource         url                                                      accession            L D</span>
        <span class="o">------------------------------------------------------------------------------------------------------</span>
         <span class="mi">0</span><span class="p">:</span> <span class="n">ncit</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">NCIT_C14206</span>               <span class="n">NCIT_C14206</span>          <span class="n">Y</span> <span class="n">Y</span>
         <span class="mi">1</span><span class="p">:</span> <span class="n">dron</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">DRON_00018778</span>             <span class="n">DRON_00018778</span>        <span class="n">Y</span> <span class="n">Y</span>
         <span class="mi">2</span><span class="p">:</span> <span class="n">omit</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">OMIT_0006157</span>              <span class="n">OMIT_0006157</span>         <span class="n">Y</span> <span class="n">Y</span>
         <span class="mi">3</span><span class="p">:</span> <span class="n">ncbitaxon</span>        <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">NCBITaxon_562</span>             <span class="n">NCBITaxon_562</span>        <span class="n">Y</span> <span class="n">Y</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Segmentation</span> <span class="n">details</span><span class="p">:</span>
        <span class="o">-*-</span> <span class="n">NOT</span> <span class="n">DEFINED</span> <span class="o">-*-</span>
<span class="o">**************************************************************************************************************</span>
<span class="nb">id</span>      <span class="n">par_id</span>  <span class="n">name</span><span class="p">::</span><span class="n">description</span>                                  <span class="c1">#inst #ext_ref           colour</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="mi">9764</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9814</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9815</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9840</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9859</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9893</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9897</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9911</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9914</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9952</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9955</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9956</span>    <span class="mi">0</span>       <span class="n">GroEL</span><span class="p">::</span><span class="n">GroEL</span>                                           <span class="mi">1</span>     <span class="mi">7</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sorting-notes-by-description">
<h4><a class="toc-backref" href="#id28">Sorting Notes By Description</a><a class="headerlink" href="#sorting-notes-by-description" title="Permalink to this heading"></a></h4>
<p>Notes are sorted by the index (first column) by default. However, the user can sort notes by description (third column) using the <code class="docutils literal notranslate"><span class="pre">-D/--sort-by-description</span></code> flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list -D file.json
sff notes list --sort-by-description file.json
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**************************************************************************************************************</span>
<span class="nb">id</span>      <span class="n">par_id</span>  <span class="n">name</span><span class="p">::</span><span class="n">description</span>                                  <span class="c1">#inst #ext_ref           colour</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="mi">9764</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9814</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9815</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9840</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9859</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9893</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9897</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9911</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9914</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9952</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9955</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9956</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>becomes</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**************************************************************************************************************</span>
<span class="nb">id</span>      <span class="n">par_id</span>  <span class="n">name</span><span class="p">::</span><span class="n">description</span>                                  <span class="c1">#inst #ext_ref           colour</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="mi">9840</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9914</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9814</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9956</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9764</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9955</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9893</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9897</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9815</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9952</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9859</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9911</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that descriptions longer than 40 characters are truncated and terminated
with an ellipsis (<code class="docutils literal notranslate"><span class="pre">...</span></code>) but the full description is visible in long format.</p>
</section>
<section id="reverse-sorting">
<h4><a class="toc-backref" href="#id29">Reverse Sorting</a><a class="headerlink" href="#reverse-sorting" title="Permalink to this heading"></a></h4>
<p>Alternative, sorting can be reversed using the <code class="docutils literal notranslate"><span class="pre">-r/--reverse</span></code> flag. This
applies to both sorting by index or by description.</p>
<p>Reverse sorting by index:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list -r file.json
sff notes list --reverse file.json
</pre></div>
</div>
<p>For the above, this becomes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**************************************************************************************************************</span>
<span class="nb">id</span>      <span class="n">par_id</span>  <span class="n">name</span><span class="p">::</span><span class="n">description</span>                                  <span class="c1">#inst #ext_ref           colour</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="mi">9956</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9955</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9952</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9914</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9911</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9897</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9893</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9859</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9840</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9815</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9814</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9764</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Reverse sorting by description</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list -r -D file.json
sff notes list --reverse --sort-by-description file.json
</pre></div>
</div>
<p>leading to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**************************************************************************************************************</span>
<span class="nb">id</span>      <span class="n">par_id</span>  <span class="n">name</span><span class="p">::</span><span class="n">description</span>                                  <span class="c1">#inst #ext_ref           colour</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="mi">9859</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9911</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9815</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9952</span>    <span class="mi">0</span>       <span class="n">MCM6</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.412</span><span class="p">,</span> <span class="mf">0.706</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9893</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9897</span>    <span class="mi">0</span>       <span class="n">MCM5</span><span class="p">::</span><span class="n">Minichromosome</span> <span class="n">maintenance</span> <span class="n">prot</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.76</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9764</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9955</span>    <span class="mi">0</span>       <span class="n">MCM4</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9814</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9956</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9840</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9914</span>    <span class="mi">0</span>       <span class="n">MCM2</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.16</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="viewing-segment-ids-only">
<h4><a class="toc-backref" href="#id30">Viewing Segment IDs Only</a><a class="headerlink" href="#viewing-segment-ids-only" title="Permalink to this heading"></a></h4>
<p>To view the segment IDs only write:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list -I file.sff
<span class="m">9764</span>
<span class="m">9814</span>
<span class="m">9815</span>
<span class="m">9840</span>
<span class="m">9859</span>
<span class="m">9893</span>
<span class="m">9897</span>
<span class="m">9911</span>
<span class="m">9914</span>
<span class="m">9952</span>
<span class="m">9955</span>
<span class="m">9956</span>
</pre></div>
</div>
<p>which are sorted in ascending order. These can be reversed using the
<code class="docutils literal notranslate"><span class="pre">-r/--reverse</span></code> flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes list -I -r file.sff
<span class="m">9956</span>
<span class="m">9955</span>
<span class="m">9952</span>
<span class="m">9914</span>
<span class="m">9911</span>
<span class="m">9897</span>
<span class="m">9893</span>
<span class="m">9859</span>
<span class="m">9840</span>
<span class="m">9815</span>
<span class="m">9814</span>
<span class="m">9764</span>
</pre></div>
</div>
</section>
</section>
<section id="showing-notes-in-one-or-more-segments">
<h3><a class="toc-backref" href="#id31">Showing Notes In One Or More Segments</a><a class="headerlink" href="#showing-notes-in-one-or-more-segments" title="Permalink to this heading"></a></h3>
<p>To show annotations relating to one or several (or all) segments type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes show
usage: sff notes show <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span> <span class="o">[</span>-H<span class="o">]</span> <span class="o">[</span>-l<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span> <span class="o">[</span>-i SEGMENT_ID<span class="o">]</span> sff_file

Show a specific annotations by ID present <span class="k">in</span> an EMDB-SFF file

positional arguments:
  sff_file              path <span class="o">(</span>rel/abs<span class="o">)</span> to an EMDB-SFF file

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and user configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -H, --header          show EMDB-SFF header <span class="o">(</span>global<span class="o">)</span> attributes <span class="o">[</span>default: False<span class="o">]</span>
  -l, --long-format     only show segment ID and description <span class="o">(</span><span class="k">if</span> present<span class="o">)</span> <span class="o">[</span>default: False<span class="o">]</span>
  -v, --verbose         verbose output
  -i SEGMENT_ID, --segment-id SEGMENT_ID
                        refer to a segment by its ID<span class="p">;</span> pass more than one ID as a comma-separated list with no spaces e.g. <span class="s1">&#39;id1,id2,...,idN&#39;</span>

As describe <span class="k">in</span> <span class="sb">`</span>States &lt;<span class="c1">#states-find-view-modify&gt;`__, the teminal text colour</span>
when viewing is **WHITE**.

Listing notes from EMDB-SFF files with many segments could clutter the screen.
The user can switch between listing all segments to finding segment IDs of
interest <span class="k">then</span> displaying one or more segments of interest using the <span class="sb">``</span>sff
notes show<span class="sb">``</span> sub-subcommand. Therefore, this takes an extra parameter
<span class="sb">``</span>-i/--segment-id<span class="sb">``</span> which takes either one ID or a sequence of IDs separated
only by commas <span class="o">(</span><span class="sb">``</span>,<span class="sb">``</span><span class="o">)</span>.
</pre></div>
</div>
<p>Show one segment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes show -i &lt;int&gt; file.json
sff notes show --segment-id &lt;int&gt; file.json
</pre></div>
</div>
<p>For more than one:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes show -i &lt;int&gt;,&lt;int&gt;,&lt;int&gt; file.json
sff notes show --segment-id &lt;int&gt;,&lt;int&gt;,&lt;int&gt; file.json
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**************************************************************************************************************</span>
<span class="nb">id</span>      <span class="n">par_id</span>  <span class="n">name</span><span class="p">::</span><span class="n">description</span>                                  <span class="c1">#inst #ext_ref           colour</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="mi">9814</span>    <span class="mi">0</span>       <span class="n">MCM3</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>     <span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="mi">9911</span>    <span class="mi">0</span>       <span class="n">MCM7</span><span class="p">::</span><span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">facto</span><span class="o">...</span>               <span class="mi">1</span>     <span class="mi">2</span>    <span class="p">(</span><span class="mf">0.92</span><span class="p">,</span> <span class="mf">0.84</span><span class="p">,</span> <span class="mf">0.96</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that there are <strong>NO SPACES</strong> between the sequence of segment IDs. As with
listing notes, the user can show notes in long format using the
<code class="docutils literal notranslate"><span class="pre">-l/--long-format</span></code> flag.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes show -i &lt;int&gt; -l file.json
sff notes --segment-id &lt;int&gt; --long-format file.json
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">**************************************************************************************************************</span>
<span class="n">ID</span><span class="p">:</span>             <span class="mi">9814</span>
<span class="n">PARENT</span> <span class="n">ID</span><span class="p">:</span>      <span class="mi">0</span>
<span class="n">Segment</span> <span class="n">Type</span><span class="p">:</span>   <span class="kc">None</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Name</span><span class="p">:</span>
        <span class="n">MCM3</span>
<span class="n">Description</span><span class="p">:</span>
        <span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">factor</span> <span class="n">MCM3</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">instances</span><span class="p">:</span>
        <span class="mi">1</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">External</span> <span class="n">references</span><span class="p">:</span>
      <span class="c1"># resource         url                                                      accession            L D</span>
    <span class="o">------------------------------------------------------------------------------------------------------</span>
     <span class="mi">0</span><span class="p">:</span> <span class="n">pr</span>               <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">PR_P24279</span>                 <span class="n">PR_P24279</span>            <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">1</span><span class="p">:</span> <span class="n">uniprot</span>          <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">uniprot</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">uniprot</span><span class="o">/</span><span class="n">P24279</span>                    <span class="n">P24279</span>               <span class="n">Y</span> <span class="n">Y</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Colour</span><span class="p">:</span>
        <span class="p">(</span><span class="mf">0.800000011920929</span><span class="p">,</span> <span class="mf">0.479999989271164</span><span class="p">,</span> <span class="mf">0.879999995231628</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="o">**************************************************************************************************************</span>
<span class="n">ID</span><span class="p">:</span>             <span class="mi">9911</span>
<span class="n">PARENT</span> <span class="n">ID</span><span class="p">:</span>      <span class="mi">0</span>
<span class="n">Segment</span> <span class="n">Type</span><span class="p">:</span>   <span class="kc">None</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Name</span><span class="p">:</span>
        <span class="n">MCM7</span>
<span class="n">Description</span><span class="p">:</span>
        <span class="n">DNA</span> <span class="n">replication</span> <span class="n">licensing</span> <span class="n">factor</span> <span class="n">MCM7</span>
<span class="n">Number</span> <span class="n">of</span> <span class="n">instances</span><span class="p">:</span>
        <span class="mi">1</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">External</span> <span class="n">references</span><span class="p">:</span>
      <span class="c1"># resource         url                                                      accession            L D</span>
    <span class="o">------------------------------------------------------------------------------------------------------</span>
     <span class="mi">0</span><span class="p">:</span> <span class="n">pr</span>               <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">PR_P38132</span>                 <span class="n">PR_P38132</span>            <span class="n">Y</span> <span class="n">Y</span>
     <span class="mi">1</span><span class="p">:</span> <span class="n">uniprot</span>          <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">uniprot</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">uniprot</span><span class="o">/</span><span class="n">P38132</span>                    <span class="n">P38132</span>               <span class="n">Y</span> <span class="n">Y</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Colour</span><span class="p">:</span>
        <span class="p">(</span><span class="mf">0.920000016689301</span><span class="p">,</span> <span class="mf">0.839999973773956</span><span class="p">,</span> <span class="mf">0.959999978542328</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<section id="viewing-segmentation-metadata-only">
<h4><a class="toc-backref" href="#id32">Viewing Segmentation Metadata Only</a><a class="headerlink" href="#viewing-segmentation-metadata-only" title="Permalink to this heading"></a></h4>
<p>As specified for <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">list</span></code>, using the <code class="docutils literal notranslate"><span class="pre">-H/--header</span></code> flag with
<code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">show</span></code> will display the header (segmentation metadata) only.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes show -H file.json
sff notes show --header file.json
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">==============================================================================================================</span>
<span class="n">EMDB</span><span class="o">-</span><span class="n">SFF</span> <span class="n">v</span><span class="mf">.0.8.0</span><span class="o">.</span><span class="n">dev1</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Segmentation</span> <span class="n">name</span><span class="p">:</span>
        <span class="n">Segger</span> <span class="n">Segmentation</span>
<span class="n">Segmentation</span> <span class="n">software</span><span class="p">:</span>
        <span class="mi">0</span> <span class="n">segger</span><span class="o">/</span><span class="mi">2</span>
        <span class="n">proc</span><span class="o">/</span><span class="n">det</span><span class="p">:</span> <span class="n">watershed</span> <span class="n">algorithm</span> <span class="n">applied</span>
        <span class="mi">1</span> <span class="n">Amira</span><span class="o">/</span><span class="mf">2019.1</span>
        <span class="n">proc</span><span class="o">/</span><span class="n">det</span><span class="p">:</span> <span class="n">mesh</span> <span class="n">computed</span> <span class="n">over</span> <span class="n">the</span> <span class="n">surface</span>
        <span class="mi">2</span> <span class="n">IMOD</span><span class="o">/</span><span class="n">v3</span><span class="mf">.8</span>
        <span class="n">proc</span><span class="o">/</span><span class="n">det</span><span class="p">:</span> <span class="n">mesh</span> <span class="n">reduction</span> <span class="ow">and</span> <span class="n">cleaning</span>

<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Primary</span> <span class="n">descriptor</span> <span class="p">[</span><span class="n">three_d_volume</span><span class="o">|</span><span class="n">mesh_list</span><span class="o">|</span><span class="n">shape_primitive_list</span><span class="p">]:</span>
        <span class="n">three_d_volume</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Transforms</span><span class="p">:</span>

<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Bounding</span> <span class="n">box</span> <span class="p">(</span><span class="n">xmin</span><span class="p">,</span><span class="n">xmax</span><span class="p">,</span><span class="n">ymin</span><span class="p">,</span><span class="n">ymax</span><span class="p">,</span><span class="n">zmin</span><span class="p">,</span><span class="n">zmax</span><span class="p">):</span>
        <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Global</span> <span class="n">external</span> <span class="n">references</span><span class="p">:</span> <span class="p">(</span><span class="n">L</span> <span class="o">=</span> <span class="n">label</span> <span class="n">present</span><span class="p">;</span> <span class="n">D</span> <span class="o">=</span> <span class="n">description</span> <span class="n">present</span><span class="p">)</span>
          <span class="c1"># resource         url                                                      accession            L D</span>
        <span class="o">------------------------------------------------------------------------------------------------------</span>
         <span class="mi">0</span><span class="p">:</span> <span class="n">ncbitaxon</span>        <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">purl</span><span class="o">.</span><span class="n">obolibrary</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">obo</span><span class="o">/</span><span class="n">NCBITaxon_559292</span>          <span class="n">NCBITaxon_559292</span>     <span class="n">Y</span> <span class="n">Y</span>
         <span class="mi">1</span><span class="p">:</span> <span class="n">pdb</span>              <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">ebi</span><span class="o">.</span><span class="n">ac</span><span class="o">.</span><span class="n">uk</span><span class="o">/</span><span class="n">pdbe</span><span class="o">/</span><span class="n">entry</span><span class="o">/</span><span class="n">pdb</span><span class="o">/</span><span class="mi">3</span><span class="n">ja8</span>                 <span class="mi">3</span><span class="n">ja8</span>                 <span class="n">Y</span> <span class="n">Y</span>
<span class="o">--------------------------------------------------------------------------------------------------------------</span>
<span class="n">Segmentation</span> <span class="n">details</span><span class="p">:</span>
        <span class="n">DNA</span> <span class="n">replication</span> <span class="ow">in</span> <span class="n">eukaryotes</span> <span class="ow">is</span> <span class="n">strictly</span> <span class="n">regulated</span> <span class="n">by</span> <span class="n">several</span> <span class="n">mechanisms</span><span class="o">.</span> <span class="n">A</span> <span class="n">central</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">this</span>
<span class="n">replication</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">assembly</span> <span class="n">of</span> <span class="n">the</span> <span class="n">heterohexameric</span> <span class="n">minichromosome</span> <span class="n">maintenance</span> <span class="p">(</span><span class="n">MCM2</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span> <span class="n">helicase</span> <span class="nb">complex</span> <span class="n">at</span>
<span class="n">replication</span> <span class="n">origins</span> <span class="n">during</span> <span class="n">G1</span> <span class="n">phase</span> <span class="k">as</span> <span class="n">an</span> <span class="n">inactive</span> <span class="n">double</span> <span class="n">hexamer</span><span class="o">.</span> <span class="n">Here</span><span class="p">,</span> <span class="n">using</span> <span class="n">cryo</span><span class="o">-</span><span class="n">electron</span> <span class="n">microscopy</span><span class="p">,</span> <span class="n">we</span>
<span class="n">report</span> <span class="n">a</span> <span class="n">near</span><span class="o">-</span><span class="n">atomic</span> <span class="n">structure</span> <span class="n">of</span> <span class="n">the</span> <span class="n">MCM2</span><span class="o">-</span><span class="mi">7</span> <span class="n">double</span> <span class="n">hexamer</span> <span class="n">purified</span> <span class="kn">from</span> <span class="nn">yeast</span> <span class="n">G1</span> <span class="n">chromatin</span><span class="o">.</span> <span class="n">Our</span> <span class="n">structure</span>
<span class="n">shows</span> <span class="n">that</span> <span class="n">two</span> <span class="n">single</span> <span class="n">hexamers</span><span class="p">,</span> <span class="n">arranged</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">tilted</span> <span class="ow">and</span> <span class="n">twisted</span> <span class="n">fashion</span> <span class="n">through</span> <span class="n">interdigitated</span> <span class="n">amino</span><span class="o">-</span><span class="n">terminal</span>
<span class="n">domain</span> <span class="n">interactions</span><span class="p">,</span> <span class="n">form</span> <span class="n">a</span> <span class="n">kinked</span> <span class="n">central</span> <span class="n">channel</span><span class="o">.</span> <span class="n">Four</span> <span class="n">constricted</span> <span class="n">rings</span> <span class="n">consisting</span> <span class="n">of</span> <span class="n">conserved</span> <span class="n">interior</span>
<span class="n">β</span><span class="o">-</span><span class="n">hairpins</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">two</span> <span class="n">single</span> <span class="n">hexamers</span> <span class="n">create</span> <span class="n">a</span> <span class="n">narrow</span> <span class="n">passageway</span> <span class="n">that</span> <span class="n">tightly</span> <span class="n">fits</span> <span class="n">duplex</span> <span class="n">DNA</span><span class="o">.</span> <span class="n">This</span> <span class="n">narrow</span>
<span class="n">passageway</span><span class="p">,</span> <span class="n">reinforced</span> <span class="n">by</span> <span class="n">the</span> <span class="n">offset</span> <span class="n">of</span> <span class="n">the</span> <span class="n">two</span> <span class="n">single</span> <span class="n">hexamers</span> <span class="n">at</span> <span class="n">the</span> <span class="n">double</span> <span class="n">hexamer</span> <span class="n">interface</span><span class="p">,</span> <span class="ow">is</span> <span class="n">flanked</span> <span class="n">by</span>
<span class="n">two</span> <span class="n">pairs</span> <span class="n">of</span> <span class="n">gate</span><span class="o">-</span><span class="n">forming</span> <span class="n">subunits</span><span class="p">,</span> <span class="n">MCM2</span> <span class="ow">and</span> <span class="n">MCM5</span><span class="o">.</span> <span class="n">These</span> <span class="n">unusual</span> <span class="n">features</span> <span class="n">of</span> <span class="n">the</span> <span class="n">twisted</span> <span class="ow">and</span> <span class="n">tilted</span> <span class="n">single</span>
<span class="n">hexamers</span> <span class="n">suggest</span> <span class="n">a</span> <span class="n">concerted</span> <span class="n">mechanism</span> <span class="k">for</span> <span class="n">the</span> <span class="n">melting</span> <span class="n">of</span> <span class="n">origin</span> <span class="n">DNA</span> <span class="n">that</span> <span class="n">requires</span> <span class="n">structural</span> <span class="n">deformation</span> <span class="n">of</span>
<span class="n">the</span> <span class="n">intervening</span> <span class="n">DNA</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="modifying-notes">
<h2><a class="toc-backref" href="#id33">Modifying Notes</a><a class="headerlink" href="#modifying-notes" title="Permalink to this heading"></a></h2>
<p>Modifying notes is slightly more complicated than the read-only activities
of <em>finding</em> and <em>viewing</em> described above. It involves making changes to the
annotation sections (<em>biological_annotation: name, description, number_of_instances, and
external_references</em>) as well as the transform list of the segmentation and individual segments of interest.</p>
<section id="temporary-file">
<h3><a class="toc-backref" href="#id34">Temporary File</a><a class="headerlink" href="#temporary-file" title="Permalink to this heading"></a></h3>
<p>In order to avoid destroying the EMDB-SFF file to be modified, <code class="docutils literal notranslate"><span class="pre">sfftk</span></code> makes a
temporary copy to be used throughout the modification process. Once the user
is satisfied with the annotation the temporary file should be saved.
Alternatively, the user can discard all changes by trashing the annotations
in the temporary file then starting again.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>A Note About EMDB-SFF Formats</strong></p>
<p>Any EMDB-SFF format (XML, HDF5, JSON) may be used for the temporary file.
However, JSON is preferred because of the absence of geometrical data. XML
and HDF5 can have voluminous geometrical data which can make
the process of modifying an EMDB-SFF very slow.</p>
<p>The default format used is JSON.</p>
</div>
<p>You can modify the name and format of the temporary file using the <code class="docutils literal notranslate"><span class="pre">config</span></code>
command to modify the <code class="docutils literal notranslate"><span class="pre">__TEMP_FILE</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>~$ sff config get __TEMP_FILE
Mon Jan <span class="m">22</span> <span class="m">16</span>:49:59 <span class="m">2018</span>    Reading configs from /Users/pkorir/.sfftk/sff.conf
Mon Jan <span class="m">22</span> <span class="m">16</span>:49:59 <span class="m">2018</span>    Getting config __TEMP_FILE...
./temp-annotated.json
</pre></div>
</div>
<p>to view current settings. As for <code class="docutils literal notranslate"><span class="pre">convert</span></code>, the extension of the temporary
file determines the output form.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>~$ sff config <span class="nb">set</span> __TEMP_FILE ./my-annotations.json
Mon Jan <span class="m">22</span> <span class="m">16</span>:49:27 <span class="m">2018</span>    Reading configs from /Users/pkorir/.sfftk/sff.conf
Mon Jan <span class="m">22</span> <span class="m">16</span>:49:27 <span class="m">2018</span>    Setting config __TEMP_FILE to value ./my-annotations.json...
~$ sff config get -all
Mon Jan <span class="m">22</span> <span class="m">16</span>:49:31 <span class="m">2018</span>    Reading configs from /Users/pkorir/.sfftk/sff.conf
Mon Jan <span class="m">22</span> <span class="m">16</span>:49:31 <span class="m">2018</span>    Listing all <span class="m">3</span> configs...
<span class="nv">__TEMP_FILE</span>          <span class="o">=</span> ./my-annotations.json
<span class="nv">__TEMP_FILE_REF</span>      <span class="o">=</span> @
<span class="nv">NAME</span>                 <span class="o">=</span> VALUE
</pre></div>
</div>
</section>
<section id="temporary-file-shorthand">
<h3><a class="toc-backref" href="#id35">Temporary File Shorthand</a><a class="headerlink" href="#temporary-file-shorthand" title="Permalink to this heading"></a></h3>
<p>Once the user has entered the MODIFY state (by either running one of <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">[add|edit|del|copy|clear|merge]</span></code>) the user can refer to the temporary
file using a shorthand specified in the configs.</p>
<p>The default shorthand is the ‘at’ symbol (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># add a description (assuming none exists)</span>
sff notes add -i <span class="m">1</span> -n <span class="s1">&#39;a name&#39;</span> -d ‘some description’ file.sff
<span class="c1"># user is now in MODIFY state</span>
sff notes edit -i <span class="m">1</span> -n <span class="s1">&#39;another name&#39;</span> -d ‘another description’ @
</pre></div>
</div>
<p>This is useful if the file has a long name or is at a distant path.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i <span class="m">1</span> -d ‘some description’ tomo_5_diff_change_3.3_pi_77_27_paul_publishes.json
sff notes edit -i <span class="m">1</span> -d ‘another description’ @
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i <span class="m">1</span> -d ‘some description’ ~/experiments/files/tomograms/zebra_fish_20170312/masks_repeat_19_3.3_relion_2.0.json
sff notes edit -i <span class="m">1</span> -d ‘some description’ @
</pre></div>
</div>
<p>The attentive reader will have noticed the option <code class="docutils literal notranslate"><span class="pre">__TEMP_FILE_REF</span></code> above.
Indeed this variable specifies the temporary file shorthand and can
be modifed as above.</p>
</section>
<section id="modify-sequence">
<h3><a class="toc-backref" href="#id36">Modify Sequence</a><a class="headerlink" href="#modify-sequence" title="Permalink to this heading"></a></h3>
<p>The following diagram illustrates the sequence of steps to be carried out during modification.
The names of the sub-subcommand next to arrows showing the modification that occurs.</p>
<img alt="_images/annotating-01.png" src="_images/annotating-01.png" />
<p>Annotations may be added either to the <em>segmentation</em> (global) or to <em>individual segments</em>.</p>
<p>At the segmentation level one may add:</p>
<ul class="simple">
<li><p>the <em>name</em> of the segmentation;</p></li>
<li><p>a list of the segmentation software used each having a:</p>
<ul>
<li><p><em>name</em></p></li>
<li><p><em>version</em></p></li>
<li><p><em>processing_details</em></p></li>
</ul>
</li>
<li><p>a list of transforms;</p></li>
<li><p>the segmentation’s <em>details</em> (description)</p></li>
<li><p>a list of <em>global external references</em>.</p></li>
</ul>
<p>At the segment level there are several types of annotations that can be made:</p>
<ul class="simple">
<li><p>the segment <em>name</em>;</p></li>
<li><p>the segment <em>description</em>;</p></li>
<li><p>the <em>number of instances</em> of the segment;</p></li>
<li><p><em>external references</em> available in public archives</p></li>
</ul>
</section>
<section id="adding-notes">
<h3><a class="toc-backref" href="#id37">Adding Notes</a><a class="headerlink" href="#adding-notes" title="Permalink to this heading"></a></h3>
<section id="adding-global-notes-segmentation">
<h4><a class="toc-backref" href="#id38">Adding Global Notes (Segmentation)</a><a class="headerlink" href="#adding-global-notes-segmentation" title="Permalink to this heading"></a></h4>
<p>Global notes are added using the <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">add</span></code> sub-command. The
following flags modify segmentation metadata and global external
references:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-N/--name</span></code>: the <em>name of the segmentation</em> as a whole;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-S/--software-name</span></code>: the <em>name of the software program</em> that produced the segmentation;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-T/--software-version</span></code>: the <em>version of the software</em> used;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-P/--software-processing-details</span></code>: a quoted string outlining the processing details by which the segmentation was obtained;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-X/--transform</span></code>: a sequence of 12 floating points values specifying a transform; the first transform is designated the image-to-physical transform and is assumed to be how the segmentation gets projected into physical space during visualisation and analysis;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-D/--details</span></code>: a quoted string of additional <em>details</em> pertaining to this segmentation;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-E/--external-ref</span></code> for <em>global</em> or <em>segment external references</em>;</p></li>
</ul>
<p>Each of the above will be demonstrated. The examples demonstrate the notes state before entering
the MODIFY STATE (explicitly specifying the filename) and after entering the
MODIFY STATE (using file shorthand e.g. <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> used).</p>
<p>Here’s the help output for <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">add</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add
usage: sff notes add <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span>
                     <span class="o">[</span>-E EXTERNAL_REF EXTERNAL_REF EXTERNAL_REF<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span>
                     <span class="o">[</span>-N NAME<span class="o">]</span> <span class="o">[</span>-S SOFTWARE_NAME<span class="o">]</span> <span class="o">[</span>-T SOFTWARE_VERSION<span class="o">]</span>
                     <span class="o">[</span>-P SOFTWARE_PROCESSING_DETAILS<span class="o">]</span>
                     <span class="o">[</span>-X TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM<span class="o">]</span>
                     <span class="o">[</span>-D DETAILS<span class="o">]</span> <span class="o">[</span>-i SEGMENT_ID<span class="o">]</span> <span class="o">[</span>-n SEGMENT_NAME<span class="o">]</span>
                     <span class="o">[</span>-d DESCRIPTION<span class="o">]</span> <span class="o">[</span>-I NUMBER_OF_INSTANCES<span class="o">]</span>
                     sff_file

Add a new annotation to an EMDB-SFF file

positional arguments:
  sff_file              path <span class="o">(</span>rel/abs<span class="o">)</span> to an EMDB-SFF file

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and user
                        configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -E EXTERNAL_REF EXTERNAL_REF EXTERNAL_REF, --external-ref EXTERNAL_REF EXTERNAL_REF EXTERNAL_REF
                        An external reference consists of three components:
                        the name of the external reference, a URL to the
                        particular external reference and the accession. If
                        you use the sff notes search utility these will
                        correspond to the resource, url and accession. The
                        following is a list of valid external references: ols,
                        go, emdb, uniprot, pdb, europepmc, empiar. You can
                        also specify multiple external reference arguments
                        e.g. sff notes add -i &lt;int&gt; -E r11 r12 r13 -E r21 r22
                        r23 file.json
  -v, --verbose         verbose output

add global notes:
  add global attributes to an EMDB-SFF file

  -N NAME, --name NAME  the segmentation name
  -S SOFTWARE_NAME, --software-name SOFTWARE_NAME
                        the name of the software used to create the
                        segmentation
  -T SOFTWARE_VERSION, --software-version SOFTWARE_VERSION
                        the version of software used to create the
                        segmentation
  -P SOFTWARE_PROCESSING_DETAILS, --software-processing-details SOFTWARE_PROCESSING_DETAILS
                        details of how the segmentation was processed
  -X TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM, --transform TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM
                        twelve <span class="o">(</span><span class="m">12</span><span class="o">)</span> floats to specify the 3x4 matrix<span class="p">;</span> rows
                        first
  -D DETAILS, --details DETAILS
                        populates &lt;details&gt;...&lt;/details&gt; <span class="k">in</span> the XML file

add segment notes:
  add attributes to a single segment <span class="k">in</span> an EMDB-SFF file

  -i SEGMENT_ID, --segment-id SEGMENT_ID
                        refer to a segment by its ID
  -n SEGMENT_NAME, --segment-name SEGMENT_NAME
                        the name of the segment
  -d DESCRIPTION, --description DESCRIPTION
                        the description
  -I NUMBER_OF_INSTANCES, --number-of-instances NUMBER_OF_INSTANCES
                        the number of instances
</pre></div>
</div>
<section id="adding-a-segmentation-name">
<h5><a class="toc-backref" href="#id39">Adding A Segmentation Name</a><a class="headerlink" href="#adding-a-segmentation-name" title="Permalink to this heading"></a></h5>
<p>To be on the safe side use a quoted string to accommodate spaces. However, for
single word values no quotes are required.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># general</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">N</span> <span class="s2">&quot;My Best Segmentation&quot;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>   <span class="c1"># not in MODIFY state yet</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">--</span><span class="n">name</span> <span class="s2">&quot;My Worst Segmentation&quot;</span> <span class="o">@</span>              <span class="c1"># already in MODIFY state</span>
<span class="c1"># single word</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">N</span> <span class="n">Mitochondria</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</section>
<section id="adding-the-software">
<h5><a class="toc-backref" href="#id40">Adding The Software</a><a class="headerlink" href="#adding-the-software" title="Permalink to this heading"></a></h5>
<p>The list of software applications may be extended using either <code class="docutils literal notranslate"><span class="pre">-S/--software-name</span></code>, <code class="docutils literal notranslate"><span class="pre">-T/--software-version</span></code>
or <code class="docutils literal notranslate"><span class="pre">-P/--software-processing-details</span></code>. Any call to <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">add</span></code> with any one of these three arguments
will result in a <em>new</em> software entity added to the list. If you would like to modify the list of software
entities in the list use <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">edit</span></code> or <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">del</span></code> as outlined below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">S</span> <span class="n">IMOD</span> <span class="o">-</span><span class="n">T</span> <span class="n">v4</span><span class="mf">.2.9</span> <span class="o">-</span><span class="n">P</span> <span class="s2">&quot;contours defined&quot;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span> <span class="c1"># not in MODIFY state</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">--</span><span class="n">software</span><span class="o">-</span><span class="n">name</span> <span class="n">Amira</span> <span class="o">--</span><span class="n">software</span><span class="o">-</span><span class="n">version</span> <span class="mf">2019.1</span> <span class="o">@</span> <span class="c1"># MODIFY state</span>
</pre></div>
</div>
<p>Use quotes (single/double) to enter software processing details:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># not in MODIFY state</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">P</span> <span class="s2">&quot;Density map was automatically segmented using the watershed algorithm on a HP Cluster with 200 nodes&quot;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="c1"># MODIFY state</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">--</span><span class="n">software</span><span class="o">-</span><span class="n">processing</span><span class="o">-</span><span class="n">details</span> <span class="s2">&quot;Threshold of 1.08&quot;</span> <span class="o">@</span>
</pre></div>
</div>
</section>
<section id="add-a-transform">
<h5><a class="toc-backref" href="#id41">Add A Transform</a><a class="headerlink" href="#add-a-transform" title="Permalink to this heading"></a></h5>
<p>To add a transform, use the <code class="docutils literal notranslate"><span class="pre">-X/--transform</span></code> argument followed by 12 floats. The 12 floats specify a 3x4 matrix
with the first 3x3 elements specifying scale and rotation parameters and the last column specifying translation
parameters. The values are entered from top-left to bottom-right.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># not in MODIFY state</span>
<span class="c1"># scale the segmentation by 2.0 then translated to (10.0, 20.0, 30.0)</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">X</span> <span class="mf">2.0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">10.0</span> <span class="mi">0</span> <span class="mf">2.0</span> <span class="mi">0</span> <span class="mf">20.0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">2.0</span> <span class="mf">30.0</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="c1"># in MODIFY state</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">X</span> <span class="mf">2.0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">10.0</span> <span class="mi">0</span> <span class="mf">2.0</span> <span class="mi">0</span> <span class="mf">20.0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mf">2.0</span> <span class="mf">30.0</span> <span class="o">@</span>
</pre></div>
</div>
<p>If the transform is implied by an <cite>MRC</cite>-like file then the output of <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">view</span> <span class="pre">--transform</span> <span class="pre">--print-ssv</span> <span class="pre">file.map</span></code>
will provide the 12 floats which can be embedded into the <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">add</span> <span class="pre">-X</span></code> call as shown below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># note the backticks</span>
sff notes add -X <span class="sb">`</span>sff view --transform --print-ssv file.map<span class="sb">`</span> file.json
</pre></div>
</div>
</section>
<section id="adding-segmentation-details">
<h5><a class="toc-backref" href="#id42">Adding Segmentation Details</a><a class="headerlink" href="#adding-segmentation-details" title="Permalink to this heading"></a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># not in MODIFY state</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">D</span> <span class="s2">&quot;Specimen was irradiated with 5 lux of light then imaged vertically&quot;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="c1"># MODIFY state</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">--</span><span class="n">details</span> <span class="s2">&quot;All imaging was done at 17 K&quot;</span> <span class="o">@</span>
</pre></div>
</div>
</section>
<section id="adding-an-external-reference-global-or-segment">
<h5><a class="toc-backref" href="#id43">Adding An External Reference (Global Or Segment)</a><a class="headerlink" href="#adding-an-external-reference-global-or-segment" title="Permalink to this heading"></a></h5>
<p>The external references flag (<code class="docutils literal notranslate"><span class="pre">-E/--external-ref</span></code>) takes three arguments:</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">resource</span> <span class="pre">name</span></code> where the reference may be found;</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">permanent</span> <span class="pre">URL</span></code> where more details may be found;</p></li>
<li><p>the <code class="docutils literal notranslate"><span class="pre">accession</span></code> code for the reference.</p></li>
</ul>
<p>You can use multiple <code class="docutils literal notranslate"><span class="pre">-E/--external-ref</span></code> flags at once.</p>
<p>All of these may be obtained either from the OLS website of using the output of <a class="reference external" href="#finding-notes">sff notes search ‘&lt;term&gt;’</a>.</p>
<p>For example, suppose we ran</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes search <span class="s1">&#39;mitochondria&#39;</span>
</pre></div>
</div>
<p>and obtain the following results:</p>
<img alt="_images/search-results-01.png" src="_images/search-results-01.png" />
<p>and are interested in adding the second result as an external reference to a
segment. We note down the <em>resource</em> (<code class="docutils literal notranslate"><span class="pre">go</span></code>), <em>url</em>
(<code class="docutils literal notranslate"><span class="pre">http://purl.obolibrary.org/obo/GO_0005739</span></code>) and the <em>accession</em>
(<code class="docutils literal notranslate"><span class="pre">GO:0005739</span></code>) then use the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># -E &lt;resource&gt; &lt;url&gt; &lt;accession&gt;</span>
sff notes add -E go http://purl.obolibrary.org/obo/GO_0005739 GO:0005739 file.json
</pre></div>
</div>
<p>More examples:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># global (segmentation) notes</span>
<span class="c1"># not in MODIFY state</span>
sff notes add -E ncbitaxon http://purl.obolibrary.org/obo/NCBITaxon_559292 NCBITaxon_559292 file.json
<span class="c1"># MODIFY state</span>
<span class="c1"># more than one reference</span>
sff notes add -E ncbitaxon http://purl.obolibrary.org/obo/NCBITaxon_559292 NCBITaxon_559292 -E pdb http://www.ebi.ac.uk/pdbe/entry/pdb/3ja8 3ja8 @
</pre></div>
</div>
</section>
</section>
<section id="adding-segment-notes">
<h4><a class="toc-backref" href="#id44">Adding Segment Notes</a><a class="headerlink" href="#adding-segment-notes" title="Permalink to this heading"></a></h4>
<p>Notes are added using the <strong>sff notes add</strong> sub-subcommand but specifying the segment by ID using the
<code class="docutils literal notranslate"><span class="pre">-i/--segment-id</span></code> argument.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i &lt;segment_id&gt; <span class="o">[</span>options<span class="o">]</span> file.json
</pre></div>
</div>
<section id="adding-a-segment-name">
<h5><a class="toc-backref" href="#id45">Adding A Segment Name</a><a class="headerlink" href="#adding-a-segment-name" title="Permalink to this heading"></a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">-n/--segment-name</span></code> flag takes a single argument or quoted string to name the segment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i <span class="m">9911</span> -n <span class="s2">&quot;Top-most segment&quot;</span> file.sff
sff notes add -i <span class="m">9911</span> --segment-name <span class="s2">&quot;Top-most segment&quot;</span> file.sff
</pre></div>
</div>
</section>
<section id="adding-a-segment-description">
<h5><a class="toc-backref" href="#id46">Adding A Segment Description</a><a class="headerlink" href="#adding-a-segment-description" title="Permalink to this heading"></a></h5>
<p>Use the <code class="docutils literal notranslate"><span class="pre">-d/--description</span></code> flag to add a description. Multi-word descriptions will need to be quoted.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i <span class="m">9911</span> -d <span class="s1">&#39;a very good description&#39;</span> file.sff
sff notes add --segment-id <span class="m">9911</span> --description <span class="s1">&#39;a very good description&#39;</span> file.sff
</pre></div>
</div>
</section>
<section id="adding-the-number-of-instances">
<h5><a class="toc-backref" href="#id47">Adding The Number of Instances</a><a class="headerlink" href="#adding-the-number-of-instances" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i <span class="m">9911</span> -I &lt;int&gt; file.json
sff notes add --segment-id <span class="m">9911</span> --number-of-instances &lt;int&gt; file.json
</pre></div>
</div>
</section>
<section id="adding-external-references">
<h5><a class="toc-backref" href="#id48">Adding External References</a><a class="headerlink" href="#adding-external-references" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i <span class="m">9911</span> -E &lt;resource&gt; &lt;url&gt; &lt;accession&gt; file.json
</pre></div>
</div>
<p>or several at once using multiple <code class="docutils literal notranslate"><span class="pre">-E/--external-ref</span></code> flags:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes add -i <span class="m">9911</span> -E &lt;resource&gt; &lt;url&gt; &lt;accession&gt; -E &lt;resource&gt; &lt;url&gt; &lt;accession&gt; -E &lt;resource&gt; &lt;url&gt; &lt;accession&gt;file.json
<span class="c1"># per-segment notes</span>
sff notes add -i <span class="m">9911</span> -E go http://purl.obolibrary.org/obo/GO_0005739 GO:0005739 file.json
sff notes add -i <span class="m">9911</span> --external-ref go http://purl.obolibrary.org/obo/GO_0005739 GO:0005739 file.json
</pre></div>
</div>
</section>
</section>
</section>
<section id="editing-notes">
<h3><a class="toc-backref" href="#id49">Editing Notes</a><a class="headerlink" href="#editing-notes" title="Permalink to this heading"></a></h3>
<section id="editing-global-notes-segmentation">
<h4><a class="toc-backref" href="#id50">Editing Global Notes (Segmentation)</a><a class="headerlink" href="#editing-global-notes-segmentation" title="Permalink to this heading"></a></h4>
<p>Editing global notes is straightforward and works exactly like adding notes
for all items of metadata except external references. Where the entity to be modified is not a list, one can use
<code class="docutils literal notranslate"><span class="pre">add</span></code> and <code class="docutils literal notranslate"><span class="pre">edit</span></code> interchangeably for <em>name</em>, <em>segment name</em>, <em>segment description</em>, <em>number of instances</em> and <em>details</em>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes edit
usage: sff notes edit <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span> <span class="o">[</span>-e EXTERNAL_REF_ID<span class="o">]</span>
                  <span class="o">[</span>-E EXTERNAL_REF EXTERNAL_REF EXTERNAL_REF<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span>
                  <span class="o">[</span>-N NAME<span class="o">]</span> <span class="o">[</span>-s SOFTWARE_ID<span class="o">]</span> <span class="o">[</span>-S SOFTWARE_NAME<span class="o">]</span>
                  <span class="o">[</span>-T SOFTWARE_VERSION<span class="o">]</span> <span class="o">[</span>-P SOFTWARE_PROCESSING_DETAILS<span class="o">]</span>
                  <span class="o">[</span>-x TRANSFORM_ID<span class="o">]</span>
                  <span class="o">[</span>-X TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM<span class="o">]</span>
                  <span class="o">[</span>-D DETAILS<span class="o">]</span> <span class="o">[</span>-i SEGMENT_ID<span class="o">]</span> <span class="o">[</span>-n SEGMENT_NAME<span class="o">]</span>
                  <span class="o">[</span>-d DESCRIPTION<span class="o">]</span> <span class="o">[</span>-I NUMBER_OF_INSTANCES<span class="o">]</span>
                  sff_file

Edit an existing annotation to an EMDB-SFF file

positional arguments:
  sff_file              path <span class="o">(</span>rel/abs<span class="o">)</span> to an EMDB-SFF file

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and user
                        configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -e EXTERNAL_REF_ID, --external-ref-id EXTERNAL_REF_ID
                        the external reference ID as shown with the <span class="s1">&#39;list&#39;</span>
                        <span class="nb">command</span>
  -E EXTERNAL_REF EXTERNAL_REF EXTERNAL_REF, --external-ref EXTERNAL_REF EXTERNAL_REF EXTERNAL_REF
                        An external reference consists of three components:
                        the name of the external reference, a URL to the
                        particular external reference and the accession. If
                        you use the sff notes search utility these will
                        correspond to the resource, url and accession. The
                        following is a list of valid external references: ols,
                        go, emdb, uniprot, pdb, europepmc, empiar. You can
                        also specify multiple external reference arguments
                        e.g. sff notes add -i &lt;int&gt; -E r11 r12 r13 -E r21 r22
                        r23 file.json
  -v, --verbose         verbose output

edit global notes:
  edit global attributes to an EMDB-SFF file

  -N NAME, --name NAME  the segmentation name
  -s SOFTWARE_ID, --software-id SOFTWARE_ID
                        the software to edit
  -S SOFTWARE_NAME, --software-name SOFTWARE_NAME
                        the name of the software used to create the
                        segmentation
  -T SOFTWARE_VERSION, --software-version SOFTWARE_VERSION
                        the version of software used to create the
                        segmentation
  -P SOFTWARE_PROCESSING_DETAILS, --software-processing-details SOFTWARE_PROCESSING_DETAILS
                        details of how the segmentation was processed
  -x TRANSFORM_ID, --transform-id TRANSFORM_ID
                        the transform ID to edit
  -X TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM, --transform TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM TRANSFORM
                        twelve <span class="o">(</span><span class="m">12</span><span class="o">)</span> floats to specify the 3x4 matrix<span class="p">;</span> rows
                        first
  -D DETAILS, --details DETAILS
                        populates &lt;details&gt;...&lt;/details&gt; <span class="k">in</span> the XML file

edit segment notes:
  edit attributes to a single segment <span class="k">in</span> an EMDB-SFF file

  -i SEGMENT_ID, --segment-id SEGMENT_ID
                        refer to a segment by its ID
  -n SEGMENT_NAME, --segment-name SEGMENT_NAME
                        the name of the segment
  -d DESCRIPTION, --description DESCRIPTION
                        the description
  -I NUMBER_OF_INSTANCES, --number-of-instances NUMBER_OF_INSTANCES
                        the number of instances
</pre></div>
</div>
<section id="editing-external-references">
<h5><a class="toc-backref" href="#id51">Editing External References</a><a class="headerlink" href="#editing-external-references" title="Permalink to this heading"></a></h5>
<p>As we will see shortly, an extra argument is needed to specify the external
reference to be edited (<code class="docutils literal notranslate"><span class="pre">-e/--external-ref-id</span></code>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes edit -e &lt;ref_id&gt; -E &lt;resource&gt; &lt;url&gt; &lt;accession&gt; file.json
</pre></div>
</div>
<p>Specifying <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">edit</span> <span class="pre">-e</span> <span class="pre">0</span> <span class="pre">-E</span> <span class="pre">&lt;resource&gt;</span> <span class="pre">&lt;url&gt;</span> <span class="pre">&lt;accession&gt;</span> <span class="pre">file.json</span></code> when there are no external
references is equivalent to using <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">add</span> <span class="pre">-E</span> <span class="pre">&lt;resource&gt;</span> <span class="pre">&lt;url&gt;</span> <span class="pre">&lt;accession&gt;</span> <span class="pre">file.json</span></code>.</p>
</section>
<section id="editing-software-and-transforms">
<h5><a class="toc-backref" href="#id52">Editing Software and Transforms</a><a class="headerlink" href="#editing-software-and-transforms" title="Permalink to this heading"></a></h5>
<p>Just as with editing external references, when editing software and transforms, we must identify the particular item to
be edited. This is achieved with an ID for the particular item.</p>
<p>To edit a particular software item, use the <code class="docutils literal notranslate"><span class="pre">-s/--software-id</span></code>. The <code class="docutils literal notranslate"><span class="pre">-x/--transform-id</span></code> will accomplish the same
result for software.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># edit the name of the software for the first item (item ``0``)</span>
sff notes edit -s <span class="m">0</span> -S &lt;new-name&gt; file.json
<span class="c1"># edit the third transform (id: ``2``)</span>
sff notes edit -x <span class="m">2</span> -X &lt;<span class="m">12</span> floats&gt; file.json
</pre></div>
</div>
</section>
</section>
<section id="editing-segment-notes">
<h4><a class="toc-backref" href="#id53">Editing Segment Notes</a><a class="headerlink" href="#editing-segment-notes" title="Permalink to this heading"></a></h4>
<p>If a segment in an EMDB-SFF file already contains notes then we can edit
the notes using the <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">edit</span></code> sub-subcommand. Because some edit
options will need to refer to specific entries (e.g. the third external
reference) extra arguments are required to specify which item is being edited.</p>
<section id="editing-a-segment-name">
<h5><a class="toc-backref" href="#id54">Editing A Segment Name</a><a class="headerlink" href="#editing-a-segment-name" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes edit -i &lt;segment_id&gt; -n &lt;name&gt; file.json
sff notes edit -i &lt;segment_id&gt; --segment-name &lt;name&gt; @ <span class="c1"># if editing a just-added name</span>
</pre></div>
</div>
</section>
<section id="editing-a-description">
<h5><a class="toc-backref" href="#id55">Editing A Description</a><a class="headerlink" href="#editing-a-description" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes edit -i &lt;segment_id&gt; -d ‘&lt;description&gt;’ file.json
sff notes edit -i &lt;segment_id&gt; -d ‘&lt;description&gt;’ @ <span class="c1"># if editing a just-added description</span>
</pre></div>
</div>
</section>
<section id="editing-the-number-of-instances">
<h5><a class="toc-backref" href="#id56">Editing The Number of Instances</a><a class="headerlink" href="#editing-the-number-of-instances" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes edit -i &lt;segment_id&gt; -I &lt;int&gt; file.json
sff notes edit -i &lt;segment_id&gt; -I &lt;int&gt; @ <span class="c1"># if editing a just-added value</span>
</pre></div>
</div>
</section>
<section id="editing-an-external-reference">
<h5><a class="toc-backref" href="#id57">Editing An External Reference</a><a class="headerlink" href="#editing-an-external-reference" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes edit -i &lt;segment_id&gt; -e &lt;extref_id&gt; -E &lt;ontology&gt; &lt;url&gt; &lt;obo_id&gt; file.json
sff notes edit -i &lt;segment_id&gt; --external-ref-id &lt;extref_id&gt; -E &lt;ontology&gt; &lt;url&gt; &lt;obo_id&gt; file.json
<span class="c1"># if editing a just-added description</span>
sff notes edit -i &lt;segment_id&gt; -e &lt;extref_id&gt; -E &lt;ontology&gt; &lt;url&gt; &lt;obo_id&gt; @
</pre></div>
</div>
</section>
</section>
</section>
<section id="deleting-notes">
<h3><a class="toc-backref" href="#id58">Deleting Notes</a><a class="headerlink" href="#deleting-notes" title="Permalink to this heading"></a></h3>
<p>Notes may be deleted using the <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">del</span></code> sub-subcommand.</p>
<p>Unlike when adding and editing, <strong>delete options take no arguments *except* when
referring to listed metadata</strong> (external references, complexes and macromolecules).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del
usage: sff notes del <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span> <span class="o">[</span>-e EXTERNAL_REF_ID<span class="o">]</span>
                 <span class="o">[</span>-s SOFTWARE_ID<span class="o">]</span> <span class="o">[</span>-S<span class="o">]</span> <span class="o">[</span>-T<span class="o">]</span> <span class="o">[</span>-P<span class="o">]</span> <span class="o">[</span>-D<span class="o">]</span> <span class="o">[</span>-i SEGMENT_ID<span class="o">]</span> <span class="o">[</span>-n<span class="o">]</span>
                 <span class="o">[</span>-d<span class="o">]</span> <span class="o">[</span>-I<span class="o">]</span> <span class="o">[</span>-x TRANSFORM_ID<span class="o">]</span>
                 sff_file

Delete an existing annotation to an EMDB-SFF file

positional arguments:
  sff_file              path <span class="o">(</span>rel/abs<span class="o">)</span> to an EMDB-SFF file

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and user
                        configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -v, --verbose         verbose output
  -e EXTERNAL_REF_ID, --external-ref-id EXTERNAL_REF_ID
                        the external reference ID as shown with the <span class="s1">&#39;list&#39;</span>
                        <span class="nb">command</span>

delete global notes:
  delete global attributes to an EMDB-SFF file

  -s SOFTWARE_ID, --software-id SOFTWARE_ID
                        the software<span class="o">(</span>s<span class="o">)</span> to delete<span class="p">;</span> delete depends on whether
                        -S, -T and -P are specified <span class="o">(</span>see below<span class="o">)</span><span class="p">;</span> <span class="k">if</span> none are
                        specified <span class="k">then</span> the whole software is deleted from the
                        list
  -S, --software-name   delete the software name <span class="k">for</span> the specified software
                        id<span class="o">(</span>s<span class="o">)</span> <span class="o">[</span>default: False<span class="o">]</span>
  -T, --software-version
                        delete the software version <span class="k">for</span> the specified software
                        id<span class="o">(</span>s<span class="o">)</span> <span class="o">[</span>default: False<span class="o">]</span>
  -P, --software-processing-details
                        delete the software processing details <span class="k">for</span> the
                        specified software id<span class="o">(</span>s<span class="o">)</span> <span class="o">[</span>default: False<span class="o">]</span>
  -D, --details         delete the details <span class="o">[</span>default: False<span class="o">]</span>
  -x TRANSFORM_ID, --transform-id TRANSFORM_ID
                        the transforms<span class="o">(</span>s<span class="o">)</span> to delete

delete segment notes:
  delete attributes to a single segment <span class="k">in</span> an EMDB-SFF file

  -i SEGMENT_ID, --segment-id SEGMENT_ID
                        refer to a segment by its ID
  -n, --segment-name    delete the segment name <span class="o">[</span>default: False<span class="o">]</span>
  -d, --description     delete the description <span class="o">[</span>default: False<span class="o">]</span>
  -I, --number-of-instances
                        delete the number of instances <span class="o">[</span>default: False<span class="o">]</span>
</pre></div>
</div>
<section id="deleting-global-notes-segmentation">
<h4><a class="toc-backref" href="#id59">Deleting Global Notes (Segmentation)</a><a class="headerlink" href="#deleting-global-notes-segmentation" title="Permalink to this heading"></a></h4>
<section id="deleting-a-segmentation-name">
<h5><a class="toc-backref" href="#id60">Deleting A Segmentation Name</a><a class="headerlink" href="#deleting-a-segmentation-name" title="Permalink to this heading"></a></h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not possible to delete the <em>segmentation name</em> as this a required attribute.</p>
</div>
</section>
<section id="deleting-software-details">
<h5><a class="toc-backref" href="#id61">Deleting Software Details</a><a class="headerlink" href="#deleting-software-details" title="Permalink to this heading"></a></h5>
<p>The software item on the software list should be specified using <code class="docutils literal notranslate"><span class="pre">-s/--software-id</span></code> to perform a
deletion. If none of <code class="docutils literal notranslate"><span class="pre">-S/--software-name</span></code>, <code class="docutils literal notranslate"><span class="pre">-T/--software-version</span></code> or <code class="docutils literal notranslate"><span class="pre">-P/--software-processing-details</span></code>
is provided then the whole software item will be deleted. Otherwise, only the specified field will be deleted.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -s &lt;software_id&gt; file.json
</pre></div>
</div>
<p>To delete the name of the software for one item use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -s &lt;software_id&gt; -S file.json
sff notes del -s &lt;software_id&gt; -S @
</pre></div>
</div>
<p>Similarly, to delete the version or processing details for a single software item use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -s &lt;software_id&gt; -T file.json
sff notes del -s &lt;software_id&gt; -T @
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -s &lt;software_id&gt; -P file.json
sff notes del -s &lt;software_id&gt; -P @
</pre></div>
</div>
<p>Any combination of the above will also work as expected:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -s &lt;id&gt; -S -T file.json
</pre></div>
</div>
</section>
<section id="deleting-transforms">
<h5><a class="toc-backref" href="#id62">Deleting Transforms</a><a class="headerlink" href="#deleting-transforms" title="Permalink to this heading"></a></h5>
<p>Similarly, deleting transforms only requires the correct transform id.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># delete the fourth transform (id: ``3``)</span>
sff notes del -x <span class="m">3</span> file.json
</pre></div>
</div>
</section>
<section id="deleting-details">
<h5><a class="toc-backref" href="#id63">Deleting Details</a><a class="headerlink" href="#deleting-details" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -D file.json
sff notes del -D @
</pre></div>
</div>
</section>
<section id="deleting-external-references">
<h5><a class="toc-backref" href="#id64">Deleting External References</a><a class="headerlink" href="#deleting-external-references" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -e &lt;extref_id&gt; file.json
sff notes del -e &lt;extref_id&gt; @
</pre></div>
</div>
</section>
</section>
<section id="deleting-segment-notes">
<h4><a class="toc-backref" href="#id65">Deleting Segment Notes</a><a class="headerlink" href="#deleting-segment-notes" title="Permalink to this heading"></a></h4>
<section id="deleting-the-segment-name">
<h5><a class="toc-backref" href="#id66">Deleting The Segment Name</a><a class="headerlink" href="#deleting-the-segment-name" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -i &lt;segment_id&gt; -n file.json
sff notes del -i &lt;segment_id&gt; -n @
</pre></div>
</div>
<p>This will set the value to the default of <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</section>
<section id="deleting-a-description">
<h5><a class="toc-backref" href="#id67">Deleting A Description</a><a class="headerlink" href="#deleting-a-description" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -i &lt;segment_id&gt; -d file.json
sff notes del -i &lt;segment_id&gt; -d @
</pre></div>
</div>
</section>
<section id="deleting-the-number-of-instances">
<h5><a class="toc-backref" href="#id68">Deleting The Number Of Instances</a><a class="headerlink" href="#deleting-the-number-of-instances" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -i &lt;segment_id&gt; -I file.json
sff notes del -i &lt;segment_id&gt; -I @
</pre></div>
</div>
</section>
<section id="deleting-an-external-reference">
<h5><a class="toc-backref" href="#id69">Deleting An External Reference</a><a class="headerlink" href="#deleting-an-external-reference" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -i &lt;segment_id&gt; -e &lt;extref_id&gt; file.json
</pre></div>
</div>
</section>
<section id="deleting-a-complex-internal-use">
<h5><a class="toc-backref" href="#id70">Deleting A Complex (Internal Use)</a><a class="headerlink" href="#deleting-a-complex-internal-use" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -i &lt;segment_id&gt; -c &lt;comp_id&gt; file.json
</pre></div>
</div>
</section>
<section id="deleting-a-macromolecule-internal-use">
<h5><a class="toc-backref" href="#id71">Deleting A Macromolecule (Internal Use)</a><a class="headerlink" href="#deleting-a-macromolecule-internal-use" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del -i &lt;segment_id&gt; -m &lt;macr_id&gt; file.json
</pre></div>
</div>
</section>
</section>
</section>
<section id="copying-notes">
<h3><a class="toc-backref" href="#id72">Copying Notes</a><a class="headerlink" href="#copying-notes" title="Permalink to this heading"></a></h3>
<p>Users may copy notes using the <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">copy</span></code> command.</p>
<p>Important points to remember:</p>
<ul>
<li><p>Copying only makes use of external references - the segment description and number of instances are left intact.</p></li>
<li><p>It is currently not possible to select a subset of annotations (this will be added in a later release); all
annotations are copied to the destination. However, individual annotations that are to be excluded <em>after copying</em> may be removed
using the following sequence:</p>
<ol class="arabic">
<li><p>view notes in the segment using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes show --long-format -i &lt;id&gt; file.json
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes show -H file.json
</pre></div>
</div>
<p>for global notes;</p>
</li>
<li><p>delete specific notes using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes del &lt;id1&gt;,&lt;id2&gt;,...,&lt;idN&gt; file.json
</pre></div>
</div>
</li>
</ol>
</li>
</ul>
<p>For the complete set of options run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy
usage: sff notes copy <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span> <span class="o">[</span>-i SEGMENT_ID<span class="o">]</span>
                      <span class="o">[</span>--from-global <span class="p">|</span> --to-global<span class="o">]</span>
                      <span class="o">[</span>-t TO_SEGMENT <span class="p">|</span> --to-all<span class="o">]</span>
                      sff_file

Copy notes from one/multiple segment to one/multiple/all other
segments within the same EMDB-SFF file

positional arguments:
  sff_file              path <span class="o">(</span>rel/abs<span class="o">)</span> to an EMDB-SFF file

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and
                        user configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -i SEGMENT_ID, --segment-id SEGMENT_ID
                        segment ID or a comma-separated sequence of
                        segment IDs of <span class="nb">source</span> segment<span class="o">(</span>s<span class="o">)</span><span class="p">;</span> run <span class="s1">&#39;sff</span>
<span class="s1">                        notes list &lt;file&gt;&#39;</span> <span class="k">for</span> a list of segment
                        IDs
  --from-global         copy notes from global <span class="o">(</span>metadata<span class="o">)</span> to --to-
                        segment segments
  --to-global           copy notes from --segment-id segment to
                        global <span class="o">(</span>metadata<span class="o">)</span>
  -t TO_SEGMENT, --to-segment TO_SEGMENT
                        segment ID or a comma-separated sequence of
                        segment IDs of destination segment<span class="o">(</span>s<span class="o">)</span><span class="p">;</span> run
                        <span class="s1">&#39;sff notes list &lt;file&gt;&#39;</span> <span class="k">for</span> a list of
                        segment IDs
  --to-all              copy notes from --segment-id segment to all
                        <span class="o">(</span>other<span class="o">)</span> segments
</pre></div>
</div>
<section id="source-of-notes-one-or-more-segments">
<h4><a class="toc-backref" href="#id73">Source of Notes: One or More Segments</a><a class="headerlink" href="#source-of-notes-one-or-more-segments" title="Permalink to this heading"></a></h4>
<section id="copy-notes-to-another">
<h5><a class="toc-backref" href="#id74">Copy Notes To Another</a><a class="headerlink" href="#copy-notes-to-another" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy -i &lt;source_segment_id&gt; -t &lt;dest_segment_id&gt; file.json
</pre></div>
</div>
</section>
<section id="copy-notes-to-multiple-segments">
<h5><a class="toc-backref" href="#id75">Copy Notes To Multiple Segments</a><a class="headerlink" href="#copy-notes-to-multiple-segments" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy -i &lt;source_segment_id&gt; -t &lt;id1&gt;,&lt;id2&gt;,...,&lt;idN&gt; file.json
</pre></div>
</div>
</section>
<section id="copy-notes-to-all-other-segments">
<h5><a class="toc-backref" href="#id76">Copy Notes To All Other Segments</a><a class="headerlink" href="#copy-notes-to-all-other-segments" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy -i &lt;source_segment_id&gt; --to-all file.json
</pre></div>
</div>
<p>The source segment will be excluded in the destination segments.</p>
</section>
<section id="copy-notes-to-global-external-references">
<h5><a class="toc-backref" href="#id77">Copy Notes To Global External References</a><a class="headerlink" href="#copy-notes-to-global-external-references" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy -i &lt;source_segment_id&gt; --to-global file.json
</pre></div>
</div>
</section>
<section id="source-of-notes-global-external-references">
<h5><a class="toc-backref" href="#id78">Source of Notes: Global External References</a><a class="headerlink" href="#source-of-notes-global-external-references" title="Permalink to this heading"></a></h5>
</section>
<section id="copy-notes-to-one-segment">
<h5><a class="toc-backref" href="#id79">Copy Notes To One Segment</a><a class="headerlink" href="#copy-notes-to-one-segment" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy --from-global -t &lt;id&gt; file.json
</pre></div>
</div>
</section>
<section id="id2">
<h5><a class="toc-backref" href="#id80">Copy Notes To Multiple Segments</a><a class="headerlink" href="#id2" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy --from-global -t &lt;id1&gt;,&lt;id2&gt;,...,&lt;idN&gt; file.json
</pre></div>
</div>
</section>
<section id="copy-notes-to-all-segments">
<h5><a class="toc-backref" href="#id81">Copy Notes To All Segments</a><a class="headerlink" href="#copy-notes-to-all-segments" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes copy --from-global --to-all file.json
</pre></div>
</div>
</section>
</section>
</section>
<section id="clearing-notes">
<h3><a class="toc-backref" href="#id82">Clearing Notes</a><a class="headerlink" href="#clearing-notes" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">clear</span></code> utility removes all notes from one or more segments or clears global external references.
As always we can view the full list of options:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes clear
usage: sff notes clear <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span> <span class="o">[</span>--all<span class="o">]</span>
                       <span class="o">[</span>--from-global<span class="o">]</span>
                       <span class="o">[</span>-i SEGMENT_ID <span class="p">|</span> --from-all-segments<span class="o">]</span>
                       sff_file

Clear all notes <span class="k">for</span> one or more segments <span class="k">in</span> an EMDB-SFF file

positional arguments:
  sff_file              path <span class="o">(</span>rel/abs<span class="o">)</span> to an EMDB-SFF file

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and
                        user configs fail <span class="o">[</span>default: False<span class="o">]</span>
  -v, --verbose         verbose output
  --all                 clear all notes<span class="p">;</span> USE WITH CARE!
  --from-global         clear notes from global <span class="o">(</span>metadata<span class="o">)</span>
  -i SEGMENT_ID, --segment-id SEGMENT_ID
                        segment ID or a comma-separated sequence of
                        segment IDs of <span class="nb">source</span> segment<span class="o">(</span>s<span class="o">)</span><span class="p">;</span> run <span class="s1">&#39;sff</span>
<span class="s1">                        notes list &lt;file&gt;&#39;</span> <span class="k">for</span> a list of segment
                        IDs
  --from-all-segments   clear notes from all segments
</pre></div>
</div>
<section id="clearing-segment-notes">
<h4><a class="toc-backref" href="#id83">Clearing Segment Notes</a><a class="headerlink" href="#clearing-segment-notes" title="Permalink to this heading"></a></h4>
<section id="one-segment">
<h5><a class="toc-backref" href="#id84">One Segment</a><a class="headerlink" href="#one-segment" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes clear -i &lt;segment_id&gt; file.json
</pre></div>
</div>
</section>
<section id="multiple-segments">
<h5><a class="toc-backref" href="#id85">Multiple Segments</a><a class="headerlink" href="#multiple-segments" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes clear -i &lt;id1&gt;,&lt;id2&gt;,...,&lt;idN&gt; file.json
</pre></div>
</div>
</section>
<section id="all-segments">
<h5><a class="toc-backref" href="#id86">All Segments</a><a class="headerlink" href="#all-segments" title="Permalink to this heading"></a></h5>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes clear --from-all-segments file.json
</pre></div>
</div>
</section>
</section>
<section id="clearing-global-external-references">
<h4><a class="toc-backref" href="#id87">Clearing Global External References</a><a class="headerlink" href="#clearing-global-external-references" title="Permalink to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes clear --from-global file.json
</pre></div>
</div>
</section>
<section id="clearing-all-notes">
<h4><a class="toc-backref" href="#id88">Clearing All Notes</a><a class="headerlink" href="#clearing-all-notes" title="Permalink to this heading"></a></h4>
<p>This command clears both global and segment-level notes. Use it with care.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes clear --all file.json
</pre></div>
</div>
<p>However, given that modification happens on a temporary file, clearing all notes is reversible provided
<code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">save</span> <span class="pre">file.json</span></code> is not run.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># restore to status before beginning the current modify session</span>
sff notes trash @
</pre></div>
</div>
<p>It is advisable to constantly save instead of only at the end of the annotation.</p>
</section>
</section>
<section id="merging-notes">
<h3><a class="toc-backref" href="#id89">Merging Notes</a><a class="headerlink" href="#merging-notes" title="Permalink to this heading"></a></h3>
<p>Notes can be manually merged from two EMDB-SFF files using <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">merge</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes merge
usage: sff notes merge <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-p CONFIG_PATH<span class="o">]</span> <span class="o">[</span>-b<span class="o">]</span> --source SOURCE
                       <span class="o">[</span>-o OUTPUT<span class="o">]</span> <span class="o">[</span>-v<span class="o">]</span>
                       other

Merge notes from two EMDB-SFF files

positional arguments:
  other                 EMDB-SFF file whose content will be merged
                        with notes from the file specified with
                        --source

optional arguments:
  -h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
  -p CONFIG_PATH, --config-path CONFIG_PATH
                        path to configs file
  -b, --shipped-configs
                        use shipped configs only <span class="k">if</span> config path and
                        user configs fail <span class="o">[</span>default: False<span class="o">]</span>
  --source SOURCE       EMDB-SFF file from which to obtain notes
  -o OUTPUT, --output OUTPUT
                        file to convert to<span class="p">;</span> the extension <span class="o">(</span>.sff,
                        .hff, .json<span class="o">)</span> determines the output format<span class="p">;</span>
                        <span class="k">if</span> not specified <span class="k">then</span> NOTES IN OTHER ONLY
                        will be overwritten <span class="o">[</span>default: None<span class="o">]</span>
  -v, --verbose         verbose output
</pre></div>
</div>
<p>Both files must refer to the exact same segmentation i.e. the number and IDs of segments must correspond (in
cardinality and value).</p>
<p>To merge notes from one EMDB-SFF file to another the user must specify the source file using the <code class="docutils literal notranslate"><span class="pre">--source</span></code>
argument. Any other file (a positional argument) will be treated as the destination.</p>
<section id="explicit-output">
<h4><a class="toc-backref" href="#id90">Explicit Output</a><a class="headerlink" href="#explicit-output" title="Permalink to this heading"></a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes merge --source file.json file.sff -o file.hff
</pre></div>
</div>
<p>will produce an HDF5 file while <code class="docutils literal notranslate"><span class="pre">file.sff</span></code> will remain unchanged. As in all other cases, the output format is
defined by the extension.</p>
</section>
<section id="implicit-output">
<h4><a class="toc-backref" href="#id91">Implicit Output</a><a class="headerlink" href="#implicit-output" title="Permalink to this heading"></a></h4>
<p>In this case, the destination file is overwritten.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes merge --source file.json file.sff
</pre></div>
</div>
<p>will produce an XML file (<code class="docutils literal notranslate"><span class="pre">file.sff</span></code>).</p>
</section>
</section>
<section id="saving-notes">
<h3><a class="toc-backref" href="#id92">Saving Notes</a><a class="headerlink" href="#saving-notes" title="Permalink to this heading"></a></h3>
<p>It is important to periodically save notes. Running <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">save</span> <span class="pre">save_to_file.json</span></code>
overwrites all notes from the temporary file into the destination file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By <strong>overwrite</strong> we mean that the final result will be only from the
temporary file. But this should not be a worry because the temporary
file was a copy of the original file.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes save save_to_file.json
sff notes save save_to_file.sff
sff notes save save_to_file.hff
</pre></div>
</div>
<p>Note that the file specified must exist and correspond to the annotated EMDB-SFF file.</p>
</section>
<section id="trashing-notes">
<h3><a class="toc-backref" href="#id93">Trashing Notes</a><a class="headerlink" href="#trashing-notes" title="Permalink to this heading"></a></h3>
<p>Only one EMDB-SFF file per directory at a time may have its notes modified.
This is because only one temporary file is created and an attempt to modify
another file will raise a warning.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Wed Sep <span class="m">13</span> <span class="m">12</span>:55:42 <span class="m">2017</span> Temporary file shorthand to use: @
Wed Sep <span class="m">13</span> <span class="m">12</span>:55:42 <span class="m">2017</span> Found temp file ./temp-annotated.json. Either run <span class="s1">&#39;save&#39;</span> or <span class="s1">&#39;trash&#39;</span> to discard changes before working on another file.
</pre></div>
</div>
<p>The user can trash using the <code class="docutils literal notranslate"><span class="pre">sff</span> <span class="pre">notes</span> <span class="pre">trash</span> <span class="pre">&#64;</span></code> to reset the current
directory to a VIEW STATE.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sff notes trash @
Wed Sep <span class="m">13</span> <span class="m">12</span>:56:18 <span class="m">2017</span> Discarding all changes made <span class="k">in</span> temp file ./temp-annotated.json... Done
</pre></div>
</div>
</section>
</section>
<section id="configuration-settings">
<h2><a class="toc-backref" href="#id94">Configuration Settings</a><a class="headerlink" href="#configuration-settings" title="Permalink to this heading"></a></h2>
<p>There are two main parameters that control the annotation process:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__TEMP_FILE</span></code> sets the path and name of the file to be used as a
temporary store of annotations while in the MODIFY STATE. The temporary
file holds all modifications until they are saved. All actions done in
the MODIFY STATE occur on this file so that any crashes will leave the
original file unchanged. Depending on the format used it can significantly
speed up viewing and modification of notes. By default it is a JSON file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__TEMP_FILE_REF</span></code> serves as a shorthand reference to the segmentation
file. It can only be used in the MODIFY STATE. The default value is <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>.
The use can use it to refer to the segmentation file instead of typing
the full file path and name.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="converting.html" class="btn btn-neutral float-left" title="Converting Files To EMDB-SFF" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="misc.html" class="btn btn-neutral float-right" title="Miscellaneous Operations Using sfftk" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, EMBL-EBI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>